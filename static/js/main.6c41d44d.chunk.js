(this["webpackJsonpmoralis-react-authentication"]=this["webpackJsonpmoralis-react-authentication"]||[]).push([[0],{1011:function(e,t){},1013:function(e,t){},1025:function(e,t){},1042:function(e,t){},1045:function(e,t){},1047:function(e,t){},1170:function(e,t){},1238:function(e,t,n){},1245:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(149),s=n.n(r),i=(n(620),n(1)),c=n.n(i),l=n(9),u=n(15),d=n(578),p=(n(621),n(53)),m=!1,b="0x19cd9b8e42d4ef62c3ea124110d5cfd283ceac43",g="0xb966bF0F2ab9A4CedFB78B12926643c4CA3CF04e",f="0xBCc8436E510504B7534123bCd8746094637E29aB",j="stakingmainnet",x=[{time:"30",apy:"14%",timeInSeconds:"2592000"},{time:"90",apy:"17%",timeInSeconds:"7776000"},{time:"180",apy:"20%",timeInSeconds:"15552000"},{time:"360",apy:"25%",timeInSeconds:"31104000"}],h=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_txNo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_reward",type:"uint256"}],name:"RewardWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_txNo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_percent",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_lockPeriod",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_lockedUntil",type:"uint256"}],name:"StakeDeposit",type:"event"},{inputs:[{internalType:"uint256",name:"_txNo",type:"uint256"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"address",name:"owner_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_txNo",type:"uint256"}],name:"preClaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"rewardPercent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_txNo",type:"uint256"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_time",type:"uint256"},{internalType:"uint256",name:"_percentInBP",type:"uint256"}],name:"setRewardPercent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_time",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"stakingTx",outputs:[{internalType:"uint256",name:"txNo",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalstakedamount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_txNo",type:"uint256"}],name:"userTransactions",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"uint256",name:"percent",type:"uint256"},{internalType:"uint256",name:"lockedUntil",type:"uint256"},{internalType:"bool",name:"stakingOver",type:"bool"}],internalType:"struct IBATStaking.UserTransaction",name:"",type:"tuple"}],stateMutability:"view",type:"function"}],y=[{symbol:"IBAT",name:"Battle Infinity",bscContractAddress:"0x19cd9B8e42d4EF62c3EA124110D5Cfd283CEaC43",imgSrc:n.p+"static/media/coinIBAT.a0198cf0.svg",decimal:9,ABI_allowance:[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ABI_approve:[{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},{symbol:"BNB",name:"Binance Smart Chain Native Token",bscContractAddress:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",imgSrc:n.p+"static/media/coinBNB.2965674a.svg",decimal:18},{symbol:"CAKE",name:"PancakeSwap Token",bscContractAddress:"0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",imgSrc:"data:image/png;base64,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",decimal:18,ABI_allowance:[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ABI_approve:[{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},{symbol:"BUSD",name:"BUSD Token",bscContractAddress:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAmVBMVEUAAADvrxDvtwjxugnvuAvwuQrwuQvwuQrwugvwugvvtwvxuAvxugvyuQvvtwjvtgrwuQvwugrxuQvxuwvvugvvuAnwuQvvuQvvtwzvuQ3wuAvvvxDvuArwugvvtwryuwrvtgvvuAzvuAvvtg3vtwvvtgvwuQvywSnzxjj99Nz++ev//fr++OvzxTj55KD65KD65KH435H////9IzO3AAAAJnRSTlMAEEBvkK/P3++/YJ+fXyBQ36+PjzBw76BAUL8QsM+gT3CQcFCgkIcFmz4AAAABYktHRDJA0kzIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QYVBzArFG+rqgAAAwtJREFUaN7Fmu16ojAQhYOIAawsbdWlandrtx1Lgbp7/ze3P8RVNGROJvjs/PRp3tPMR0gmUQqyYBSOo4mOiYhinUTjcBSooSxIp5oMNrmbZQPQw4QslnhqjKz0g0Xf5P+8JsjymYgfxgSbQGKkyckcJbJ7crY7h3DPYhIYPInggYT2CBVfpklsOeCmeUwels9Z95OnMYEIydsWN+ZbFQD/7D48vDQH+OUnoDAX5+eurCpAYWnM1gDjQwq5qeIeQD6k8HjNT2E+pDBzD8CJjyhcheG7Cx9RiBwd1OVXVck6qegIaEd+3fCZ5DIBAb+7ZOgb8GkZoBPo5e/QKWgZ/4vJpX9ReBLy2Ww9JlIk5XMKSVvEcj6nELAh5viMwiHMKx++XSFhPITw7QqB1UMYv6o+++shta+je4hf/e4nTJVSE8IUJHzKlVpbS2XvxycK1IggBSGfCrUw/t6UHx0Fln8acFkJYyO/PiXfHuLXPdk6Ni5ETX2e3nuI31MPG1MdN3W3gP5AfLPCs+Fb0P759QCGb1TIVdzLvxzA8k0KS2XhdwcAfJOCsvHPB0B8gwIjUDdu/KrcMQLdEf58sgZ5AP7SlqYD8Ck3rdbtuCH4lPQvFYPwadO72A3Dp3Hvcj0MnxaqsH8wPPlUMJ9MXz4F9q21N/9ZKfXjhnya2jdetS+fZsq6b+mSBHzKmM3vOUvCPxwQFoQoSPhtQ8GaqEeeiE9tP2HFK8j4m/aMZi/mppby6Sd2jG1qIf/UTFgwB3EZ/6xntIa6va78827Iyw343aaXHp7faedwXwUiKh35l127yG0GPH962RSMXRR4/vVNQuoQBZ5v6l9vYQWAvzV0ftdoJgF8Y2sZCAM1NcbPxO39pgb41HuRkwIKAD/tvwJBlgzWXm2XOC835kNeEvunjbT2wcfz/3/VqNR6K+Vv0ZcKqWgS8S+HC+s3d37k9j7BdRJ54Xyr7yIRv4reJaASeSh+hvIU8fhVoXwsS60711U4wBuaLH0zNm/1NB3whU4Rvker4/OfSfQeFiD8LylrTkHFpwTpAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA2LTIxVDA3OjQxOjEyKzAwOjAwhWEHJAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNi0yMVQwNzo0MToxMiswMDowMPQ8v5gAAAAASUVORK5CYII=",decimal:18,ABI_allowance:[{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],ABI_approve:[{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},{symbol:"USDT",name:"Tether USD",bscContractAddress:"0x55d398326f99059fF775485246999027B3197955",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAq1BMVEUAAAAgn4Akp4AkqIAjqIAkqYAkqYAlqYAkqoAkqoAlp4AlqoAgp4AjqYAlqoEop4AmrIEkqYAlqoAmqYEkqYAlqYAkqIAlqIAgr4Alp4AjpoAkqYA/tI///fp3yK7j8utow6bI6NxAtJB2yK6S072t3s2649TW7eOEzrZbvp9NuZcyroe749Sf2MQxrofk8utpw6at3szx+PPk8+tAtI/x+PLj8+uR073///8cdPijAAAAG3RSTlMAEEBwkK/P3++/YJ8gUG8gX48wX++gsJ8QoFCoGir2AAAAAWJLR0Q4oAel1gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UGEQQPHpcmbLsAAAM5SURBVGjexZrtdqMgEIZRNKhpN036le6UTf2KYmLSNd3d+7+z/ZG2SSwiKHP6/jQn8wADA8xAiJYcl3r+hAUAAAELfY+6DrElJ5oykGgyja4sWKchKBSOZLhK60f518Mbz0BLLBpk/0cA2hqAcBkYyRAx88FYUwN33wQwQNqdcOYwUHOtxTdjMFhMY5gWAYwQW/QOP4zUbc/kh9GiyPaVhBuwos5RWoAlLezPz0vdSWerY80+AJOtuDlY1Pyr/Qis6hbPAR1uuAfL8lEHCADAvQBIBuiZG+iXZCb1dWAs4CJkMAzAnaP2wGjAWRcYDuDTC9eAA/icSA9YgPB9EQMWABzVIrMBOLo5xAOEihGC51VL5wbbv71A9xhph6H4DKD7n8gkjg4BPBJCJpgARsgSMAHgEBcX4BKKC6DEwwV4HYHopOQlzfJ1sSou10GxiuM8K0XV8/cH0n0T3ogyL4ptXaZVsgOAfasHiXgt621RrDOx6TQyIR3HlU0ZF3l60b59xxBVr7+LOKu65qn0QiPiJhPtj3uFD57LVZFKz0dE1vqY17uvn/dqJ2f88Cb5LANseSxrTA8Atvyw0wNw/ufNHLDZcy70ABnnh9QUIArO/8qGSObkrOH8ULebsz2F/6Jt/V/MudRxdx1HlnLFOW/i+qXaqBfSJknrdcM5b2ohn6Zd0Vpk76Ghidd1VqZCVEmSJABJkiSVEGma1fnH8l7VYte1aapChSjruFFvxk2Rl13Gj6GiN9jtKpFmdR5foOI4z7P0tdr1Bzv0cI2+4aBvmYRhAiaEkCfsYwv6wWuJCbhSHH5tAI4XBIoHOCY6l3iA93xCiAV4+MhTYwF+Kq+x4wGnZALFAZxy2csAA3CeDaEYgKgnnTMWwC4LHvYBrWqCbxvw2E4KBnYBXysJkV2ApNzi2QR4kszvsm8mlflJQ1LLOm7QvX5ffU9631p6VlFPozbsK4s4FNm+hVHqrTcuRuX5g8X3lxoJWXpD7Xu6LxWiQZ0IDGrWsydz+77Z+wTTTjDXuKpvggjooHcJughGBz9DudbYSUOXjNEsUj89oRbe0MyiJ2k6gE0jiy90XOr54cfzn4nB85//6QsJ/u8dPR4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDYtMTdUMDQ6MTQ6MzgrMDA6MDBJi2a/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA2LTE3VDA0OjE0OjM4KzAwOjAwONbeAwAAAABJRU5ErkJggg==",decimal:18,ABI_allowance:[{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],ABI_approve:[{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]}],A="0x10ED43C718714eb63d5aA57B78B54704E256024E",O=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint256",name:"amountADesired",type:"uint256"},{internalType:"uint256",name:"amountBDesired",type:"uint256"},{internalType:"uint256",name:"amountAMin",type:"uint256"},{internalType:"uint256",name:"amountBMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidity",outputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"amountB",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountTokenDesired",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountIn",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsIn",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsOut",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"reserveA",type:"uint256"},{internalType:"uint256",name:"reserveB",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"amountB",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountAMin",type:"uint256"},{internalType:"uint256",name:"amountBMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidity",outputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"amountB",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityETHSupportingFeeOnTransferTokens",outputs:[{internalType:"uint256",name:"amountETH",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bool",name:"approveMax",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"removeLiquidityETHWithPermit",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bool",name:"approveMax",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"removeLiquidityETHWithPermitSupportingFeeOnTransferTokens",outputs:[{internalType:"uint256",name:"amountETH",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountAMin",type:"uint256"},{internalType:"uint256",name:"amountBMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bool",name:"approveMax",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"removeLiquidityWithPermit",outputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"amountB",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokensSupportingFeeOnTransferTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForETHSupportingFeeOnTransferTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForTokensSupportingFeeOnTransferTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],w=n.p+"static/media/logo.568a6dac.svg",k=(n(1238),n(22)),T=n(564),v=n(577),C=n(566),S=n(292),I=n.p+"static/media/close.4a6201f2.svg",B=n.p+"static/media/wallet-mm.6d14cba9.svg",E=n.p+"static/media/wallet-wc.a1aae2e6.svg",M=n.p+"static/media/dropdown.2e5e7a5c.svg",N=n(3);var F=function(e){var t=e.addClass,n=e.login,o=e.hasAllowance,r=Object(k.e)(),s=r.isOpen,i=r.onOpen,u=r.onClose,d=Object(p.d)(),m=d.isAuthenticated,b=d.isAuthenticating,j=d.user,x=d.isWeb3Enabled,h=d.logout,A=d.enableWeb3,O=Object(p.b)(),w=O.switchNetwork,F=O.chainId,U=O.chain;Object(a.useEffect)((function(){m&&x&&j&&(console.log("Checking hasAllowance after switching chain"),o(j.get("ethAddress"),f),o(j.get("ethAddress"),g))}),[F]);var _=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x||A(),w("0x38");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("logout"!==t){e.next=13;break}return e.next=3,h();case 3:return window.localStorage.setItem("flexAllowance","false"),window.localStorage.removeItem("flexAllowance"),window.localStorage.setItem("lockedAllowance","false"),window.localStorage.removeItem("lockedAllowance"),window.localStorage.setItem("userAddress",""),window.localStorage.removeItem("userAddress"),window.localStorage.removeItem("BNBallowance"),y.forEach((function(e){window.localStorage.removeItem("".concat(e.symbol.toUpperCase(),"allowance"))})),console.log("Logged Out"),e.abrupt("return");case 13:if(m){e.next=36;break}if(console.log("Wallet wasn't connected"),console.log("Trying to connect wallet"),console.log("Provider ="),console.log(t),console.log("walletconnect"===t),e.prev=19,"walletconnect"!==t){e.next=27;break}return console.log("Logging with ".concat(t," - drawer")),e.next=24,n(t);case 24:console.log("Wallet connected with WC"),e.next=30;break;case 27:return e.next=29,n();case 29:console.log("Wallet connected with MM");case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(19),console.log(e.t0),console.error("dev:issue Wallet connected");case 36:case"end":return e.stop()}}),e,null,[[19,32]])})));return function(t){return e.apply(this,arguments)}}(),D="btn btn__connect_wallet btn-gradient-2 ".concat(t);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(T.a,{className:D,onClick:i,paddingX:".75rem",children:[m?j&&"".concat(j.get("ethAddress").toString().substring(0,5),"\n            ...\n            ").concat(j.get("ethAddress").toString().substring(j.get("ethAddress").length-0,j.get("ethAddress").length-4)):"Connect Wallet",m&&Object(N.jsx)("img",{src:M,alt:"drop down icon",width:"10px",style:{marginLeft:".5rem",transform:"rotate(90deg)"}})]}),Object(N.jsxs)(v.a,{onClose:u,isOpen:s,size:"sm",bg:"Red",children:[Object(N.jsx)(v.e,{}),Object(N.jsxs)(v.c,{bg:"rgba(29, 21, 54, 0.8)",style:{backdropFilter:"blur(4px)",boxShadow:"4px 4px 4px rgba(0, 0, 0, 0.5)"},color:"white",children:[Object(N.jsx)(v.d,{borderBottomWidth:"1px",children:"Connect Wallet"}),Object(N.jsx)(v.b,{children:Object(N.jsxs)(C.c,{flexDir:"column",gap:"1rem",h:"100%",children:[Object(N.jsxs)(C.c,{flexDir:"column",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Status"}),Object(N.jsx)(C.m,{children:Object(N.jsx)(C.a,{colorScheme:m?"green":"red",children:m?"Connected":"Disconnected"})})]}),Object(N.jsx)(C.c,{flexDir:"column",children:Object(N.jsx)(T.b,{gap:"4",flexDir:"column",children:m?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(C.c,{flexDir:"column",gap:"1rem",children:[Object(N.jsxs)(C.c,{flexDir:"column",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Address"}),Object(N.jsx)(C.m,{fontSize:"sm",children:j&&j.get("ethAddress")})]}),Object(N.jsxs)(C.c,{flexDir:"column",children:[Object(N.jsxs)(C.m,{fontSize:"xs",pb:"0.5rem",children:["Connected Chain","0x38"!==F?Object(N.jsx)(C.a,{mx:"0.5rem",px:".5rem",colorScheme:"red",children:"Wrong Chain"}):""]}),Object(N.jsx)(C.m,{children:U&&"".concat(U.name)}),"0x38"!==F&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T.a,{marginLeft:"0px !important",border:"1px solid #4C5199",gap:".5rem",px:"2rem",py:"1.5rem",justifyContent:"space-between",onClick:_,children:"Switch to BSC Mainnet"})})]})]}),Object(N.jsx)(T.a,{marginLeft:"0px !important",border:"1px solid #4C5199",gap:".5rem",px:"2rem",py:"1.5rem",justifyContent:"space-between",onClick:function(){return R("logout")},children:Object(N.jsx)(C.c,{gap:".5rem",align:"center",children:"Disconnect"})})]}):b?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T.a,{marginLeft:"0px !important",border:"1px solid #4C5199",gap:".5rem",px:"2rem",py:"1.5rem",justifyContent:"space-between",disabled:b,children:Object(N.jsxs)(C.c,{gap:".5rem",align:"center",children:[Object(N.jsx)(S.a,{}),"Wait..."]})})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(T.a,{border:"1px solid #4C5199",px:"2rem",py:"1.5rem",justifyContent:"space-between",onClick:R,disabled:m||b,children:[Object(N.jsxs)(C.c,{gap:".5rem",align:"center",children:[Object(N.jsx)("img",{src:B,alt:"",width:"25px"}),"Metamask"]}),Object(N.jsx)(C.a,{colorScheme:"green",children:"Popular"})]}),Object(N.jsx)(T.a,{marginLeft:"0px !important",border:"1px solid #4C5199",gap:".5rem",px:"2rem",py:"1.5rem",justifyContent:"space-between",onClick:function(){return R("walletconnect")},disabled:m||b,children:Object(N.jsxs)(C.c,{gap:".5rem",align:"center",children:[Object(N.jsx)("img",{src:E,alt:"",width:"25px"}),"Wallet Connect"]})})]})})}),Object(N.jsx)(C.k,{}),Object(N.jsxs)(T.a,{onClick:u,gap:".3rem",border:"1px solid #ff6161",bg:"transparent",children:[Object(N.jsx)("img",{src:I,alt:"",width:"25px"}),"Close"]})]})})]})]})]})};var U=function(e){var t=e.login,n=e.logout,a=e.isAuthenticated,o=e.user,r=e.hasAllowance;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("header",{className:"header",style:{position:"sticky",top:"0px",zIndex:"500"},children:[Object(N.jsx)("img",{src:w,className:"header__logo",alt:"logo"}),Object(N.jsx)(F,{login:t,logout:n,isAuthenticated:a,user:o,addClass:"btn-gradient-2--header btn__connect_wallet--header",hasAllowance:r})]})})},_=n(294),R=n(575),D=n(573),W=n(569),P=n(570),L=n(571),H=(n(360),n(567),n.p+"static/media/refresh.fac3a34b.svg"),z=n(37),Q=n(152);var Y=function(e){var t=e.flexAllowance,n=e.enableStaking,o=e.isFetchingEnableStaking,r=e.firebaseApp,s=e.convertToDecimals,i=e.getIBATBalance,m=e.totalIbatBalance,b=e.setNativeValue,g=e.showGenericErrorMessage,x=Object(p.d)(),h=x.isAuthenticated,y=x.isAuthenticating,A=x.isWeb3Enabled,O=x.user,w=x.Moralis,k=Object(p.g)(),v=k.fetch,S=k.isFetching,I=Object(d.a)(),B=Object(a.useState)("0"),E=Object(u.a)(B,2),M=E[0],F=E[1],U=Object(a.useState)("0"),R=Object(u.a)(U,2),D=R[0],Y=R[1],V=Object(a.useState)(0),X=Object(u.a)(V,2),J=X[0],K=X[1],G=Object(a.useState)(0),q=Object(u.a)(G,2),Z=q[0],$=q[1],ee=Object(z.h)(r),te=j,ne="flexible",ae=Object(z.a)(ee,te,ne),oe=Object(Q.a)(ae,{snapshotListenOptions:{includeMetadataChanges:!0}}),re=Object(u.a)(oe,2),se=re[0],ie=re[1],ce=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={abi:[{inputs:[],name:"total_staked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],contractAddress:f,functionName:"total_staked"},e.next=4,v({params:t,onError:function(e){console.error(e),console.error("dev:failed to getTotalIbatStaked()")},onSuccess:function(e){(function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(z.a)(ee,te,ne),e.next=3,Object(z.l)(n,{tvl:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(s(Number(e._hex))),console.log("dev-\u2705-TxSuccessful function getTotalIbatStaked")}});case 4:case"end":return e.stop()}}),e)}))),[te,s,ee,v]),le=function(e,t){if(e){e=Number(e).toFixed(9);try{e=w.Units.Token(e,9)}catch(n){console.error(n),console.error("dev-error handleInputAmount()")}"stakeamount"!==t?"unstakeamount"!==t||e>=0&&$(e):e>=0&&K(e)}else console.log("error with input")},ue=function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y&&h){e.next=2;break}return e.abrupt("return");case 2:if(t=Number(t),console.log("claim rewards - withdrawRewards()"),n={abi:[{inputs:[],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"}],contractAddress:f,functionName:"claimRewards"},!h){e.next=9;break}return e.next=9,v({params:n,onError:function(e){console.log(e),e&&e.data?g(e.data.message):e&&e.message&&g(e.message),console.error("dev:failed to claimRewards")},onSuccess:function(e){I({containerStyle:{maxWidth:"92vw"},description:"Withdraw Rewards Tx. in progress...",status:"info",duration:null,isClosable:!0,position:"bottom-left"}),e.wait().then((function(e){console.log(e),console.log("\u2705claimRewards- updating values"),ce(),h&&O&&(me(),i()),I.closeAll({positions:["bottom-left"]}),I({containerStyle:{maxWidth:"92vw"},title:"Rewards Claimed Successfully",status:"success",duration:2500,isClosable:!0,position:"bottom-left"}),console.log("\u2705claimRewards successful")}))}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y&&h){e.next=2;break}return e.abrupt("return");case 2:if(console.log("Getting timeLeftForStakingRewards"),t=[{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"compoundRewardsTimer",outputs:[{internalType:"uint256",name:"_timer",type:"uint256"}],stateMutability:"view",type:"function"}],n=O?O.get("ethAddress"):window.localStorage.getItem("userAddress"),a={abi:t,contractAddress:f,functionName:"compoundRewardsTimer",params:{_user:n}},!h){e.next=9;break}return e.next=9,v({params:a,onError:function(e){console.error(e),console.error("dev:failed to timeLeftForStakingRewards")},onSuccess:function(e){!function(e){var t=parseInt(e,10),n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),o=t-3600*n-60*a;n<10&&(n="0"+n),a<10&&(a="0"+a),o<10&&(o="0"+o),I(0===n&&0===a?{containerStyle:{maxWidth:"92vw"},title:"".concat(o," seconds"),description:"Time life until restaking",status:"info",duration:1500,isClosable:!0}:0===n&&a>0?{containerStyle:{maxWidth:"92vw"},title:"".concat(a," min : ").concat(o," seconds"),description:"Time life until restaking",status:"info",duration:1500,isClosable:!0}:{containerStyle:{maxWidth:"92vw"},title:"".concat(n," hr :").concat(a," min"),description:"Time life until restaking",status:"info",duration:1500,isClosable:!0})}(Number(e._hex))}});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y&&h){e.next=2;break}return e.abrupt("return");case 2:if(t={abi:[{inputs:[],name:"stakeRewards",outputs:[],stateMutability:"nonpayable",type:"function"}],contractAddress:f,functionName:"stakeRewards"},!h){e.next=7;break}return e.next=7,v({params:t,onError:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error(t),console.error("dev:failed to stakeMyRewards"),e.next=4,de();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(e){console.log(e),ce(),me(),i(),console.log("\u2705staked rewards successfully")}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y&&h){e.next=2;break}return e.abrupt("return");case 2:if(t=[{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"getDepositInfo",outputs:[{internalType:"uint256",name:"_stake",type:"uint256"},{internalType:"uint256",name:"_rewards",type:"uint256"}],stateMutability:"view",type:"function"}],n=O?O.get("ethAddress"):window.localStorage.getItem("userAddress"),a={abi:t,contractAddress:f,functionName:"getDepositInfo",params:{_user:n}},void 0===n||!h){e.next=8;break}return e.next=8,v({params:a,onError:function(e){console.error(e),console.error("dev:failed to getUserStakedIbat-fetch")},onSuccess:function(e){var t=Number(e._stake._hex),n=0;try{n=w.Units.FromWei(t,9)}catch(a){n=Number(t).toFixed(9)/Math.pow(10,9),console.error("dev:getUserStakedIbat() value too big for Moralis Lib - so failed and used toFixed")}F(n),Y(Number(e._rewards._hex).toString()),console.log("dev-\u2705- function getUserStakedIbat")}});case 8:case"end":return e.stop()}}),e)}))),[y,h,O,v,w.Units]);Object(a.useEffect)((function(){h&&A&&O&&ce()}),[ce,h,A,O]),Object(a.useEffect)((function(){h&&A&&O&&i()}),[i,h,A,O]),Object(a.useEffect)((function(){h&&A&&O&&me()}),[me,h,A,O]);var be=8e12,ge=w.Units.FromWei(be,9)||8e3,fe=function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=J)<be)){e.next=4;break}return I({containerStyle:{maxWidth:"92vw"},title:"Staking Amount: ".concat(w.Units.FromWei(t,9)," IBAT"),description:"Minimum stake Amount: ".concat(ge," IBAT"),status:"error",duration:1500,isClosable:!0}),e.abrupt("return");case 4:if(!(Number(t)>w.Units.Token(m,9))){e.next=8;break}return I({containerStyle:{maxWidth:"92vw"},title:"Staking Amount can't be greater than your balance",description:"Stake Amount: ".concat(w.Units.FromWei(t,9)," IBAT"),status:"error",duration:2500,isClosable:!0}),I({containerStyle:{maxWidth:"92vw"},description:"Your Balance - ".concat(m),status:"error",duration:2500,isClosable:!0}),e.abrupt("return");case 8:return console.log("Depositing depositAmount - ".concat(t)),n={abi:[{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"}],contractAddress:f,functionName:"deposit",params:{_amount:t}},e.next=13,v({params:n,onSuccess:function(e){I({containerStyle:{maxWidth:"92vw"},description:"Staking Transaction in progress...",status:"info",duration:null,isClosable:!0,position:"bottom-left"}),e.wait().then((function(){ce(),me(),i(),I.closeAll({positions:["bottom-left"]}),I({containerStyle:{maxWidth:"92vw"},description:"Staking Transaction Successful",status:"success",duration:"2500",isClosable:!0,position:"bottom-left"}),console.log("dev-\u2705-TxSuccessful function deposit")}))},onError:function(e){e&&e.data?g(e.data.message):e&&e.message&&g(e.message),console.error("dev-failed to run deposit function")}});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Z,0!==Number(t)){e.next=4;break}return I({containerStyle:{maxWidth:"92vw"},description:"Unstaking Amount can not be 0 IBAT.",status:"error",duration:"2500",isClosable:!0}),e.abrupt("return");case 4:if(console.log("unstakeIbat withdrawAmount - ".concat(t," ")),!(t<=0)){e.next=8;break}return g("Unstake Amount should be larger than 0 IBAT"),e.abrupt("return");case 8:return n={abi:[{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],contractAddress:f,functionName:"withdraw",params:{_amount:t}},e.next=12,v({params:n,onSuccess:function(e){I({containerStyle:{maxWidth:"92vw"},description:"Un-Staking Transaction in progress...",status:"info",duration:null,isClosable:!0,position:"bottom-left"}),e.wait().then((function(){ce(),me(),i(),I.closeAll({positions:["bottom-left"]}),I({containerStyle:{maxWidth:"92vw"},description:"Un-Staking Transaction Successful",status:"success",duration:"2500",isClosable:!0,position:"bottom-left"}),console.log("dev-\u2705-function unstakeIbat")}))},onError:function(e){e&&e.data?g(e.data.message):e&&e.message&&g(e.message),console.error("dev-failed to run unstakeIbat function")}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"staking",children:[Object(N.jsx)("h2",{className:"staking__heading",children:"Flexible Staking"}),Object(N.jsxs)("div",{className:"staking__apy",children:[Object(N.jsx)("span",{className:"staking__tvl_text",children:"APY:"}),Object(N.jsx)("span",{className:"staking__tvl_value",style:{color:"#88D1F2",fontWeight:"700"},children:"12%"})]}),Object(N.jsxs)("div",{className:"staking__tvl",children:[Object(N.jsx)("span",{className:"staking__tvl_text",children:"Total $IBAT in Flexible Staking"}),Object(N.jsxs)("span",{className:"staking__tvl_value",style:{color:"#88D1F2",fontWeight:"700"},children:[!ie&&se&&se.exists()?Number(se.data().tvl).toLocaleString("en-US"):"Calculating..."," ","IBAT"]})]}),h&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("section",{className:"staking__container staking__selector gradient-2",children:Object(N.jsxs)(W.e,{isFitted:!0,variant:"enclosed",defaultIndex:0,style:{color:"#C7D2ED"},children:[Object(N.jsxs)(W.b,{style:{borderBottom:"1px solid #4C5199"},children:[Object(N.jsx)(W.a,{w:"50%",style:{borderTopRightRadius:"0px",borderTopLeftRadius:"12px",borderTop:"none",borderLeft:"none",borderBottom:"3px solid transparent",textTransform:"uppercase"},_selected:{borderBottom:"5px solid #98a4f9 !important",color:"#88D1F2",fontWeight:"bold",background:"linear-gradient(90deg, rgba(76, 81, 153, 0.7) 0%, #161838 100%)"},children:"STAKE"}),Object(N.jsx)(W.a,{w:"50%",style:{borderTopLeftRadius:"0px",borderTopRightRadius:"12px",borderTop:"none",borderRight:"none",borderBottom:"3px solid transparent",textTransform:"uppercase"},_selected:{borderBottom:"5px solid #98a4f9 !important",color:"#88D1F2",fontWeight:"bold",background:"linear-gradient(270deg, rgba(76, 81, 153, 0.7) 0%, #161838 100%)"},children:"Unstake"})]}),Object(N.jsxs)(W.d,{children:[Object(N.jsx)(W.c,{className:"staking__selector--amount",children:Object(N.jsxs)(C.l,{className:"staking__amount_input",margin:"auto",padding:"1.5rem",children:[Object(N.jsx)("label",{className:"staking__amount--label",htmlFor:"staking__amount",children:"Amount"}),Object(N.jsxs)(C.m,{gap:".5rem",fontSize:"xs",className:"staking__my_balance",children:[Object(N.jsx)("span",{children:"~My balance: "}),Object(N.jsxs)("span",{children:[Number(m).toFixed(3)," IBAT"]})]}),Object(N.jsxs)(P.a,{children:[Object(N.jsx)(P.b,{children:"$IBAT"}),Object(N.jsx)(L.c,{id:"staking__amount_flexible",className:"staking__amount",min:0,placeholder:"0 IBAT",precision:9,clampValueOnBlur:!1,onChange:function(e){return le(e,"stakeamount")},children:Object(N.jsx)(L.d,{borderRadius:0,placeholder:"0"})}),Object(N.jsx)(P.c,{padding:0,children:Object(N.jsx)(T.a,{bg:"#161838",className:"staking__max_btn",onClick:function(){var e=m-1;console.log("totalIbatBalance - ".concat(m));var t=document.getElementById("staking__amount_flexible");b(t,e),t.dispatchEvent(new Event("input",{bubbles:!0})),K(w.Units.Token(e,9))},children:Object(N.jsx)(C.m,{color:"white",children:"Max"})})})]}),Object(N.jsx)(C.m,{gap:".5rem",fontSize:"xs",className:"",align:"left",children:Object(N.jsxs)("span",{children:["Min Stake Amount : \xa0",w.Units.FromWei(be,9)," ","IBAT"]})}),"true"===t?Object(N.jsx)(T.a,{className:"btn btn--stake-ibat btn__connect_wallet btn-gradient-2",onClick:function(){return fe()},disabled:S,children:"Stake IBAT"}):Object(N.jsx)(T.a,{className:"btn btn--stake-ibat btn__connect_wallet btn-gradient-2",onClick:function(){return n(f)},disabled:o,children:"Enable Staking"})]})}),Object(N.jsx)(W.c,{className:"staking__selector--amount",children:Object(N.jsxs)(C.l,{className:"staking__amount_input",margin:"auto",padding:"1.5rem",children:[Object(N.jsx)("label",{className:"staking__amount--label",htmlFor:"staking__amount",children:"Amount"}),Object(N.jsxs)(C.m,{gap:".5rem",fontSize:"xs",className:"staking__my_balance",children:[Object(N.jsx)("span",{children:"~Staked IBAT: "}),Object(N.jsx)("span",{children:M})]}),Object(N.jsxs)(P.a,{children:[Object(N.jsx)(P.b,{children:"$IBAT"}),Object(N.jsx)(L.c,{id:"unstaking__amount",className:"staking__amount",clampValueOnBlur:!1,min:0,precision:9,onChange:function(e){return le(e,"unstakeamount")},children:Object(N.jsx)(L.d,{borderRadius:0,placeholder:"0"})}),Object(N.jsx)(P.c,{padding:0,children:Object(N.jsx)(T.a,{bg:"#161838",className:"staking__max_btn",onClick:function(){var e=M;console.log("userStakedIbat - ".concat(M));var t=e.toString();console.log("maxAmountString - ".concat(t)),t.length>=17&&(t=t.substring(0,t.length-1),e=Number(t),console.log("substring- maxAmountString - ".concat(t)));var n=document.getElementById("unstaking__amount");b(n,e),n.dispatchEvent(new Event("input",{bubbles:!0})),$(w.Units.Token(e,9))},children:Object(N.jsx)(C.m,{color:"white",children:"Max"})})})]}),Object(N.jsx)(C.m,{gap:".5rem",fontSize:"xs",className:"",align:"left",children:Object(N.jsx)("span",{children:"\xa0"})}),Object(N.jsx)(T.a,{className:"btn btn--stake-ibat btn__connect_wallet btn-gradient-2",onClick:function(){return je()},disabled:S,children:"Unstake IBAT"})]})})]})]})}),"true"===window.localStorage.getItem("flexAllowance")&&h&&Object(N.jsxs)("section",{className:"staking__container staking__rewards gradient-2",children:[Object(N.jsxs)("h3",{className:"staking__selector__heading",children:["My Rewards"," ",Object(N.jsx)("img",{onClick:function(){return me()},disabled:S,src:H,alt:"",style:{width:"20px",display:"inline",position:"relative",top:".2rem"}})]}),Object(N.jsxs)(C.d,{templateColumns:"repeat(2, 1fr)",columnGap:"2",px:"1rem",py:"1rem",children:[Object(N.jsxs)(C.e,{w:"100%",minH:"50px",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Total Staked Amount"}),Object(N.jsx)(_.a,{below:"md",children:Object(N.jsxs)(C.m,{fontWeight:"700",fontSize:"lg",children:[Math.round(1e3*Number(M))/1e3," IBAT"]})}),Object(N.jsx)(_.a,{above:"md",children:Object(N.jsxs)(C.m,{fontWeight:"700",fontSize:"2xl",children:[Math.round(1e3*Number(M))/1e3," IBAT"]})})]}),Object(N.jsxs)(C.e,{w:"100%",minH:"50px",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Total Rewards"}),Object(N.jsx)(_.a,{below:"md",children:Object(N.jsxs)(C.m,{fontWeight:"700",fontSize:"lg",children:[Math.round(1e3*Number(w.Units.FromWei(D,9)))/1e3," "," IBAT"]})}),Object(N.jsx)(_.a,{above:"md",children:Object(N.jsxs)(C.m,{fontWeight:"700",fontSize:"2xl",children:[Math.round(1e3*Number(w.Units.FromWei(D,9)))/1e3," "," IBAT"]})})]})]}),Object(N.jsxs)(C.c,{direction:"column",children:[Object(N.jsx)(T.a,{className:"btn btn--stake-ibat-rewards btn__connect_wallet btn-gradient-2",onClick:function(){return pe()},disabled:S,children:"Stake my rewards"}),Object(N.jsx)(T.a,{className:"btn--stake-ibat-rewards btn--stake-ibat-rewards-secondary",bg:"transparent",textTransform:"uppercase",color:"#C7D2ED",textDecoration:"underline",_hover:{backgroundColor:"#203464"},onClick:function(){return ue()},disabled:S,children:"Withdraw Rewards"})]})]})]})]})})},V=n(43),X=n(54),J=n(574),K=n(572);var G=function(e){var t=Object(K.c)(e),n=t.getInputProps,a=t.getCheckboxProps,o=n(),r=a();return Object(N.jsxs)(C.b,{as:"label",children:[Object(N.jsx)("input",Object(X.a)({},o)),Object(N.jsx)(C.b,Object(X.a)(Object(X.a)({},r),{},{cursor:"pointer",borderRadius:"md",boxShadow:"md",_checked:{background:"linear-gradient(98.76deg, #38C3CF 0%, #8767D3 100%)",color:"white",boxShadow:"1px outline"},_hover:{background:"linear-gradient(98.76deg, #196067 0%, #502e9e 100%)",color:"white"},_focus:{boxShadow:"1px outline",color:"white",background:"linear-gradient(98.76deg, #38C3CF 0%, #8767D3 100%)"},children:Object(N.jsxs)(C.c,{flexDirection:"column",children:[Object(N.jsx)(C.b,{px:2,py:1,borderTopRadius:"md",borderWidth:"1px",borderColor:"#4C5199",fontSize:"1rem",textColor:"#C7D2ED",minWidth:"60px",children:Object(N.jsxs)(C.m,{fontSize:"min(3.25vw, 1rem)",children:[e.children.time," Days"]})}),Object(N.jsx)(C.b,{px:2,py:1,borderBottomRadius:"md",borderTop:"none",borderWidth:"1px",borderColor:"#4C5199",fontSize:".85rem",bg:"#181652",minWidth:"60px",children:Object(N.jsxs)(C.m,{fontSize:"min(3.15vw, .9rem)",children:[e.children.apy," APY"]})})]})}))]})};var q=function(e){var t=e.setLockingDuration,n=e.staking_options,a=Object(K.d)({name:"durationSelector",defaultValue:"30",onChange:function(e){t(e)}}),o=a.getRootProps,r=a.getRadioProps,s=o();return Object(N.jsx)(C.f,Object(X.a)(Object(X.a)({},s),{},{display:"grid",gridTemplateColumns:"repeat(4,1fr)",children:n.map((function(e){return Object(N.jsx)(G,Object(X.a)(Object(X.a)({},r({value:e.timeInSeconds})),{},{children:e}),e.time)}))}))};var Z=function(e){var t=e.lockedAllowance,n=e.enableStaking,o=e.isFetchingEnableStaking,r=e.firebaseApp,s=e.convertToDecimals,i=(e.getIBATBalance,e.totalIbatBalance),m=e.setNativeValue,b=e.showGenericErrorMessage,f=Object(p.d)(),y=f.Moralis,A=f.isAuthenticated,O=f.isAuthenticating,w=f.user,S=f.isWeb3Enabled,I=Object(d.a)(),B=Object(p.g)(),E=B.fetch,M=B.isFetching,F=Object(a.useState)("0"),U=Object(u.a)(F,2),_=U[0],R=U[1],W=Object(a.useState)(0),H=Object(u.a)(W,2),Y=H[0],K=H[1],G=Object(a.useState)([]),Z=Object(u.a)(G,2),$=Z[0],ee=Z[1],te=Object(a.useState)(!1),ne=Object(u.a)(te,2),ae=ne[0],oe=ne[1],re=Object(a.useState)("0"),se=Object(u.a)(re,2),ie=se[0],ce=se[1],le=Object(a.useState)("0"),ue=Object(u.a)(le,2),de=ue[0],pe=ue[1],me=Object(a.useState)("0"),be=Object(u.a)(me,2),ge=be[0],fe=be[1],je=Object(z.h)(r),xe=j,he="locked",ye=Object(z.a)(je,xe,he),Ae=Object(Q.a)(ye,{snapshotListenOptions:{includeMetadataChanges:!0}}),Oe=Object(u.a)(Ae,2),we=Oe[0],ke=Oe[1],Te=Object(a.useCallback)(function(){var e=Object(l.a)(c.a.mark((function e(t){var n,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,!(A&&w&&S)){e.next=14;break}return a=w?w.get("ethAddress"):window.localStorage.getItem("userAddress"),"rewards",o={abi:h,contractAddress:g},e.prev=5,e.next=8,E({params:Object(X.a)(Object(X.a)({},o),{},{functionName:"rewards",params:{_user:a,_txNo:t}}),onSuccess:function(e){var t=Number(e._hex);t=s(t),n=t},onError:function(e){console.error(e),console.error("dev-failed to run fn getRewards")}});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.error(e.t0),console.error("dev-failed to run fn getRewards -trycatch");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),[A,w,S,E,s]),ve=Object(a.useCallback)((function(e){var t=e/86400;return t=t<1?1:t}),[]),Ce=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t,n,a,o,r,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:w?w.get("ethAddress"):window.localStorage.getItem("userAddress"),"0"!==(n=i.length>1&&void 0!==i[1]?i[1]:"0")){e.next=5;break}return console.log("No transactions to fetch - txNo : ".concat(n)),e.abrupt("return");case 5:if(a="userTransactions",o={abi:h,contractAddress:g},$.length!==Number(Y))for(r=function(e){try{console.log("getUserTransactions()\ud83d\udd25\ud83d\udd25\ud83d\udd25"),E({params:Object(X.a)(Object(X.a)({},o),{},{functionName:a,params:{_user:t,_txNo:e}}),onSuccess:function(){var t=Object(l.a)(c.a.mark((function t(n){var a,o,r,s,i,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(e){if(0===Number(e)||Number(e)<0)return{day:0,hr:0,min:0,sec:0};e=Number(e);var t=86400,n=3600,a=Math.floor(e/t),o=e-a*t,r=Math.floor(o/n),s=e-(a*t+r*n),i=Math.floor(s/60);return{day:a,hr:r,min:i,sec:e-(a*t+r*n+60*i)}},t.next=3,Te(e);case 3:a=t.sent,r=Be(Number(n.lockedUntil._hex)),s=o(r),i=!1,n.stakingOver||0===Number(r)||(i=!0),l={txNo:e,userAddress:w.get("ethAddress"),amount:Number(n.amount._hex),stakingDurationSeconds:Number(n.time._hex),percent:Number(n.percent._hex)/100,lockedUntil:Number(n.lockedUntil._hex),lockedUntilDate:new Date(1e3*Number(n.lockedUntil._hex)),isStakingWithdrawn:n.stakingOver,stakingPeriodIsOver:!0,reward:a,timeLeft:s,timeLeftSeconds:r,canPreClaim:i,calculatedTimeLeftAt:new Date},$.length<Y&&ee((function(e){return[].concat(Object(V.a)(e),[l])}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(e){console.error(e),console.error("dev-failed to run fn getUserTransactions")}})}catch(n){console.error(n),console.error("dev-failed to run fn getUserTransactions -trycatch")}},s=n;s>0;s--)r(s);case 8:case"end":return e.stop()}}),e)}))),[w,ae,E,Te,Y]),Se=Object(a.useCallback)((function(){if(!O&&A&&S){var e={abi:h,contractAddress:g};try{E({params:Object(X.a)(Object(X.a)({},e),{},{functionName:"totalstakedamount"}),onSuccess:function(e){(function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(z.a)(je,xe,he),e.next=3,Object(z.l)(n,{tvl:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(s(Number(e._hex))),console.log("dev-\u2705-TxSuccessful fn getTotalIbatStakedinLocked")},onError:function(e){console.error(e),console.error("dev-failed to run fn getTotalIbatStakedinLocked")}})}catch(t){console.error(t),console.error("dev-failed to run fn getTotalIbatStakedinLocked -trycatch")}}}),[s,je,E,S,A,O,xe]),Ie=Object(a.useCallback)(function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O&&A&&S){e.next=2;break}return e.abrupt("return");case 2:console.log("ran - getTotalStakingTxs"),console.log("for user"),console.log(t),n={abi:h,contractAddress:g};try{E({params:Object(X.a)(Object(X.a)({},n),{},{functionName:"stakingTx",params:{"":t}}),onSuccess:function(e){K(Number(e.txNo._hex)),R(Number(e.totalAmount._hex).toString()),console.log("dev-\u2705-TxSuccessful function getTotalStakingTxs")},onError:function(e){console.error(e),console.error("dev-failed to run function getTotalStakingTxs")}})}catch(a){console.error(a),console.error("dev-failed to run function getTotalStakingTxs-trycatch")}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E,S,A,O]);Object(a.useEffect)((function(){A&&S&&w&&Ie(w.get("ethAddress"))}),[Ie,A,S,w]),Object(a.useEffect)((function(){A&&S&&w&&Se()}),[Se,A,S,w]),Object(a.useEffect)((function(){A&&S&&w&&(ce("0"),fe("0"),pe("0"),$.forEach((function(e){if(e.userAddress===w.get("ethAddress")&&!e.isStakingWithdrawn){if(ce((function(t){return(Number(t)+Number(e.reward)).toString()})),e.canPreClaim&&0!==Number(e.timeLeftSeconds))try{fe((function(t){return Number(Number(t)+Number(e.reward)).toString()}))}catch(t){console.error(t),console.error("\u274cdev-failed setUserTotalUnlockedRewards - useEffect")}if(!e.canPreClaim&&0===Number(e.timeLeftSeconds))try{pe((function(t){return Number(Number(t)+Number(e.reward)).toString()}))}catch(t){console.error(t),console.error("\u274cdev-failed setUserTotalUnlockedRewards - useEffect.")}}})))}),[A,S,w,$]),Object(a.useEffect)((function(){A&&S&&w&&Ce(w.get("ethAddress"),Y)}),[Ce,A,S,Y,ae,w]),Object(a.useEffect)((function(){A&&w&&S||oe(!1),$.length===Number(Y)&&oe(!0)}),[A,S,Y,w,$]),Object(a.useEffect)((function(){ce("0"),pe("0"),fe("0")}),[]);var Be=function(e){var t=e-Math.floor(Date.now()/1e3);return t<0?0:t},Ee=Object(a.useState)("0"),Me=Object(u.a)(Ee,2),Ne=Me[0],Fe=Me[1],Ue=Object(a.useState)("0"),_e=Object(u.a)(Ue,2),Re=_e[0],De=_e[1],We=8e12,Pe=s(We)||8e3,Le=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("stakeIbat_Locked()"),t=Number(Ne).toFixed(9),console.log("temp_stakeInputAmount_Locked.toFixed"),console.log(t);try{t=s(Ne)}catch(a){console.error(a),console.error("dev-error stakeIbat_locked - ")}if(console.log("temp_stakeInputAmount_Locked.Moralis"),console.log(t),Re&&"0"!==Re){e.next=10;break}return I({containerStyle:{maxWidth:"92vw"},title:"Select locking period",status:"error",duration:1500,isClosable:!0}),e.abrupt("return");case 10:if(console.log("stakeInputAmount_Locked"),console.log(Ne),console.log("Number(MIN_DEPOSIT_AMOUNT_WEI)"),console.log(Number(We)),!(Ne<Number(We))){e.next=17;break}return I({containerStyle:{maxWidth:"92vw"},title:"Staking Amount: ".concat(t," IBAT"),description:"Minimum stake Amount: ".concat(Pe," IBAT"),status:"error",duration:1500,isClosable:!0}),e.abrupt("return");case 17:if(!(Number(Ne)>y.Units.Token(i,9))){e.next=21;break}return I({containerStyle:{maxWidth:"92vw"},title:"Staking Amount can't be greater than your balance",description:"Stake Amount: ".concat(t," IBAT"),status:"error",duration:2500,isClosable:!0}),I({containerStyle:{maxWidth:"92vw"},description:"Your Balance - ".concat(i),status:"error",duration:2500,isClosable:!0}),e.abrupt("return");case 21:return n={abi:h,contractAddress:g,functionName:"stake",params:{_time:Re,_amount:Ne}},e.next=24,E({params:n,onSuccess:function(e){I({containerStyle:{maxWidth:"92vw"},description:"Staking Transaction in progress...",status:"info",duration:null,isClosable:!0,position:"bottom-left"}),e.wait().then(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,pe("0"),ce("0"),fe("0"),K(0),t.next=7,Ie(w.get("ethAddress"));case 7:return ee([]),t.next=10,Ce();case 10:return t.next=12,Se();case 12:return t.next=14,console.log(e);case 14:I.closeAll({positions:["bottom-left"]}),I({containerStyle:{maxWidth:"92vw"},description:"Staking Transaction Successful",status:"success",duration:"2500",isClosable:!0,position:"bottom-left"}),console.log("dev-\u2705-TxSuccessful function stakeIbat_locked"),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),console.error(t.t0),console.error("dev-stakeIbat_Locked");case 23:case"end":return t.stop()}}),t,null,[[0,19]])}))))},onError:function(e){try{e&&e.data?b(e.data.message):e&&e.message&&b(e.message),console.log(e),console.error("dev-failed to run function stakeIbat_locked")}catch(a){console.error(a),console.error("dev-failed onerror fn stakeIbat_locked")}}});case 24:case"end":return e.stop()}}),e)}))),[Ne,y.Units,Re,i,E,I,Pe,Ie,w,Ce,Se,b,s]),He=Object(k.e)(),ze=He.isOpen,Qe=He.onOpen,Ye=He.onClose,Ve=Object(a.useState)(),Xe=Object(u.a)(Ve,2),Je=Xe[0],Ke=Xe[1],Ge=Object(a.useCallback)((function(e){Ke(e),Qe()}),[Qe]),qe=Object(a.useCallback)((function(){var e=Je;if(!O&&A&&S){var t={abi:h,contractAddress:g};try{var n=e.txNo;E({params:Object(X.a)(Object(X.a)({},t),{},{functionName:"preClaim",params:{_txNo:n}}),onSuccess:function(t){console.log("dev-\u2705-submitted fn preClaimIBAT"),Ye(),I({containerStyle:{maxWidth:"92vw"},description:"Preclaim tx#".concat(n," in progress..."),status:"info",duration:null,isClosable:!0,position:"bottom-left"}),Ke(""),t.wait().then(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(0),t.next=3,Ie(window.localStorage.getItem("userAddress"));case 3:return ee([]),t.next=6,Ce();case 6:return t.next=8,Se();case 8:I.closeAll({positions:["bottom-left"]}),I({containerStyle:{maxWidth:"92vw"},title:"Successfully Preclaimed",description:"Unstaked ".concat(s(e.amount)," IBAT"),status:"success",duration:"2500",isClosable:!0,position:"bottom-left"}),console.log("dev-\u2705-TxSuccessful fn preClaimIBAT");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},onError:function(e){Ye(),e&&e.data?b(e.data.message):e&&e.message&&b(e.message),console.error("dev-failed to run fn preClaim - preClaimIBAT")}})}catch(a){a&&a.data?b(a.data.message):a&&a.message&&b(a.message),console.error("dev-failed to run fn unstakeIbatClaim -trycatch")}}else b("Try again... or Disconnect & Connect again")}),[Je,O,A,S,b,E,Ye,I,Ie,Ce,Se,s]),Ze=Object(a.useCallback)((function(e){if(!O&&A&&S){var t=e.txNo,n={abi:h,contractAddress:g};console.log("unstaking txNo - ".concat(t));try{E({params:Object(X.a)(Object(X.a)({},n),{},{functionName:"claim",params:{_txNo:t}}),onSuccess:function(n){console.log("dev-\u2705-submitted fn unstakeIbatClaim."),console.log(e),console.log(n),I({containerStyle:{maxWidth:"92vw"},description:"Withdraw tx#".concat(t," in progress..."),status:"info",duration:null,isClosable:!0,position:"bottom-left"}),n.wait().then(function(){var a=Object(l.a)(c.a.mark((function a(o){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("txU-data -"),console.log(o),console.log("txU"),console.log(n),K(0),ee([]),a.next=8,Ie(window.localStorage.getItem("userAddress"));case 8:return a.next=10,Ce();case 10:return a.next=12,Se();case 12:I.closeAll({positions:["bottom-left"]}),I({containerStyle:{maxWidth:"92vw"},title:"Successfully Unstaked tx#".concat(t),description:"Unstaked ".concat(s(e.amount)," IBAT"),status:"success",duration:"2500",isClosable:!0,position:"bottom-left"}),console.log("dev-\u2705-TxSuccessful fn unstakeIbatClaim");case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},onError:function(e){console.error(e),e&&e.data?b(e.data.message):e&&e.message&&b(e.message),console.error("dev-failed to run deposit function"),console.error("dev-failed to run fn unstakeIbatClaim")}})}catch(a){console.error(a),console.error("dev-failed to run fn unstakeIbatClaim -trycatch")}}else b("Try again... or Disconnect & Connect again")}),[E,Se,Ie,Ce,b,I,S,A,O,s]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(v.f,{isOpen:ze,onClose:Ye,isCentered:!0,children:[Object(N.jsx)(v.l,{backdropFilter:"blur(5px)"}),Object(N.jsxs)(v.i,{background:"linear-gradient(90deg, rgba(23, 44, 102, 1) 0%, rgba(24, 22, 82, 1) 100%)",color:"white",borderRadius:"md",children:[Object(N.jsx)(v.k,{background:"linear-gradient(45deg, black, transparent)",children:"Preclaim Penalty Warning"}),Object(N.jsx)(v.h,{}),Object(N.jsxs)(v.g,{padding:"1rem",paddingBottom:"0.5rem !important",children:["10% tax will be applied if you unlock before staking period ends.",Object(N.jsxs)(C.c,{direction:"column",pt:".5rem",children:[Object(N.jsxs)(C.m,{children:["Tx.No: ",Je?Je.txNo:""]}),Object(N.jsxs)(C.m,{children:["Staked Amount: ",Je?Number(Je.amount)/1e9:""]})]})]}),Object(N.jsxs)(v.j,{children:[Object(N.jsx)(T.a,{colorScheme:"red",mr:3,onClick:function(e){return qe()},children:"Pre-Claim"}),Object(N.jsx)(T.a,{background:"transparent",_hover:{color:"black",background:"#fefefe"},onClick:Ye,children:"Cancel"})]})]})]}),Object(N.jsxs)("div",{className:"staking",children:[Object(N.jsx)("h2",{className:"staking__heading",children:"Locked Staking"}),Object(N.jsxs)("div",{className:"staking__tvl",children:[Object(N.jsx)("span",{className:"staking__tvl_text",children:"Total $IBAT in Locked Staking"}),Object(N.jsxs)("span",{className:"staking__tvl_value",style:{color:"#88D1F2",fontWeight:"700"},children:[!ke&&we&&we.exists()?Number(we.data().tvl).toLocaleString("en-US"):"Calculating..."," ","IBAT"]})]}),A&&Object(N.jsxs)("section",{className:"staking__container staking__selector gradient-2",children:[Object(N.jsx)("h3",{className:"staking__selector__heading",children:"Stake IBAT"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"staking__selector--amount",children:Object(N.jsxs)(C.l,{className:"staking__amount_input",margin:"auto",padding:"1.5rem",children:[Object(N.jsx)("label",{className:"staking__amount--label",htmlFor:"staking__amount",children:"Amount"}),Object(N.jsxs)(C.m,{gap:".5rem",fontSize:"xs",className:"staking__my_balance",children:[Object(N.jsx)("span",{children:"~My balance: "}),Object(N.jsxs)("span",{children:[Number(i).toFixed(3)," IBAT"]})]}),Object(N.jsxs)(P.a,{children:[Object(N.jsx)(P.b,{children:"$IBAT"}),Object(N.jsx)(L.c,{id:"staking__amount_locked",className:"staking__amount",min:0,placeholder:"0 IBAT",precision:9,clampValueOnBlur:!1,onChange:function(e){return function(e,t){if(e){e=Number(e).toFixed(9);try{e=y.Units.Token(e,9)}catch(n){console.error(n),console.error("dev-error handleInputAmount()")}"stakeamountlocked"!==t||e>=0&&Fe(e)}else console.log("error with input")}(e,"stakeamountlocked")},children:Object(N.jsx)(L.d,{borderRadius:0})}),Object(N.jsx)(P.c,{padding:0,children:Object(N.jsx)(T.a,{bg:"#161838",className:"staking__max_btn",onClick:function(){var e=i-1;console.log("setMaxStakeAmount"),console.log(e);var t=document.getElementById("staking__amount_locked");m(t,e),t.dispatchEvent(new Event("input",{bubbles:!0}))},children:Object(N.jsx)(C.m,{color:"white",children:"Max"})})})]})]})}),Object(N.jsx)("div",{className:"staking__selector--time",children:Object(N.jsxs)(C.l,{className:"staking__amount_input",margin:"auto",padding:"1.5rem",children:[Object(N.jsx)("label",{className:"staking__amount--label",htmlFor:"staking__duration",children:"Locking Time"}),Object(N.jsx)(q,{setLockingDuration:De,staking_options:x})]})})]}),"true"===t?Object(N.jsx)(T.a,{className:"btn btn--stake-ibat btn__connect_wallet btn-gradient-2",onClick:function(){return Le()},disabled:M,children:"Stake IBAT"}):Object(N.jsx)(T.a,{className:"btn btn--stake-ibat btn__connect_wallet btn-gradient-2",onClick:function(){return n(g)},disabled:o,children:"Enable Staking"}),Object(N.jsx)(C.m,{fontSize:".75rem",width:"100%",backgroundColor:"#181652",borderBottomLeftRadius:"15px",borderBottomRightRadius:"15px",padding:".5rem",paddingBottom:".5rem",marginTop:"1rem",borderTop:"1px solid #4c5199",children:"Locking ".concat(s(Ne)," IBAT for ").concat(ve(Re)," Days")})]}),"true"===window.localStorage.getItem("lockedAllowance")&&A&&Object(N.jsxs)("section",{className:"staking__container staking__rewards gradient-2",children:[Object(N.jsx)("h3",{className:"staking__selector__heading",children:"My IBAT Rewards"}),Object(N.jsxs)(C.d,{templateColumns:"repeat(2, 1fr)",templateRows:"repeat(2, 1fr)",columnGap:"2",rowGap:"1rem",px:"1rem",py:"1rem",children:[Object(N.jsxs)(C.e,{w:"100%",minH:"50px",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Total Staked Amount"}),!A||!S||"0"===_&&M?Object(N.jsx)(D.a,{height:"1.75rem",width:"90%",margin:"auto",marginTop:"0.5rem"}):Object(N.jsx)(C.m,{fontWeight:"700",fontSize:"2xl",children:parseFloat(Number(s(_)).toFixed(2))})]}),Object(N.jsxs)(C.e,{w:"100%",minH:"50px",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Total Rewards"}),Object(N.jsx)(C.m,{fontWeight:"700",fontSize:"2xl",children:parseFloat(Number(ie).toFixed(2))})]}),Object(N.jsxs)(C.e,{w:"100%",minH:"50px",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Unlocked IBAT Rewards"}),Object(N.jsx)(C.m,{fontWeight:"700",fontSize:"2xl",children:parseFloat(Number(de).toFixed(2))})]}),Object(N.jsxs)(C.e,{w:"100%",minH:"50px",children:[Object(N.jsx)(C.m,{fontSize:"xs",children:"Locked Rewards"}),Object(N.jsx)(C.m,{fontWeight:"700",fontSize:"2xl",children:parseFloat(Number(ge).toFixed(2))})]})]})]}),"true"===window.localStorage.getItem("lockedAllowance")&&A&&Object(N.jsxs)("section",{className:"staking__container staking__history gradient-2",children:[Object(N.jsx)("h3",{className:"staking__selector__heading",children:"STAKING HISTORY"}),Object(N.jsx)(J.a,{allowMultiple:!0,children:ae&&$.length>0?$.sort((function(e,t){return t.txNo-e.txNo})).map((function(e){return e.userAddress===w.get("ethAddress")?Object(N.jsxs)(J.d,{borderBottom:"none",bg:"",children:[Object(N.jsxs)(J.b,{_expanded:{color:"white",background:"linear-gradient(90deg, #251F4E 0%, #232E6B 100%)"},children:[Object(N.jsxs)(C.c,{w:"100%",flexDir:"row",children:[Object(N.jsxs)(C.b,{textAlign:"left",flex:"0 0 134px",children:[Object(N.jsxs)(C.m,{children:["Tx.No: ",e.txNo]}),Object(N.jsxs)(C.m,{fontSize:"xs",pt:".5rem",opacity:".8",children:[s(e.amount)," IBAT Staked"]})]}),Object(N.jsx)(C.k,{}),Object(N.jsxs)(C.b,{textAlign:"left",children:[Object(N.jsxs)(C.m,{fontSize:"xs",pt:".5rem",opacity:".8",children:["Locking Period:"," ",ve(e.stakingDurationSeconds)," ",1===ve(e.stakingDurationSeconds)?"Day":"Days"]}),Object(N.jsx)(C.m,{fontSize:"xs",pt:".5rem",opacity:".8",children:e.isStakingWithdrawn?Object(N.jsx)(C.a,{variant:"outline",colorScheme:"gray",px:".5rem",children:"Withdrawn"}):Object(N.jsxs)(N.Fragment,{children:[e.canPreClaim?Object(N.jsx)(C.a,{colorScheme:"red",marginRight:".25rem",children:"Locked"}):Object(N.jsx)(C.a,{colorScheme:"green",marginRight:".25rem",children:"Unlocked"}),Object(N.jsx)(C.a,{colorScheme:"red",children:"Staked"})]})})]}),Object(N.jsx)(C.k,{})]}),Object(N.jsx)(J.c,{})]}),Object(N.jsx)(J.e,{pb:4,borderBottom:"none",bg:"linear-gradient(90deg, #251F4E 0%, #232E6B 100%)",borderBottomRightRadius:"13px",borderBottomLeftRadius:"15px",children:Object(N.jsxs)(C.c,{w:"100%",flexDir:"row",alignItems:"flex-end",children:[Object(N.jsxs)(C.b,{textAlign:"left",children:[Object(N.jsxs)(C.b,{children:[Object(N.jsxs)(C.b,{children:[Object(N.jsx)(C.m,{fontSize:"xs",pt:".5rem",opacity:".8",children:"APY"}),Object(N.jsxs)(C.m,{children:[e.percent,"%"]})]}),Object(N.jsxs)(C.b,{children:[Object(N.jsx)(C.m,{fontSize:"xs",pt:".5rem",opacity:".8",children:"Rewards:"}),Object(N.jsxs)(C.m,{children:[e.reward," IBAT"]})]})]}),!e.isStakingWithdrawn&&e.canPreClaim&&Object(N.jsxs)(C.b,{mt:"1rem",children:[Object(N.jsx)(C.m,{fontSize:"xs",pt:".5rem",opacity:".8",children:"Unlocking Time: (local time)"}),Object(N.jsx)(C.m,{children:e.lockedUntilDate.toString()}),Object(N.jsx)(C.m,{fontSize:"xs",pt:".5rem",opacity:".8",children:"Unlocking Time: (UTC)"}),Object(N.jsx)(C.m,{children:e.lockedUntilDate.toUTCString()})]})]}),Object(N.jsx)(C.k,{}),e.isStakingWithdrawn?"":e.canPreClaim?Object(N.jsx)(T.a,{className:"btn__connect_wallet btn__connect_wallet--withdraw btn-gradient-2",onClick:function(){return Ge(e)},disabled:M,children:"PRE-CLAIM"}):Object(N.jsx)(T.a,{className:"btn__connect_wallet btn__connect_wallet--withdraw btn-gradient-2",onClick:function(){return Ze(e)},disabled:M,children:"WITHDRAW"})]})})]},e.txNo):1===e.txNo&&"No transactions"})):"No transactions"})]})]})]})},$=n.p+"static/media/battle_staking.c1277469.png",ee=n.p+"static/media/external-link.282f4b63.svg";var te=function(e){var t=e.linkText,n=e.link;return Object(N.jsx)("div",{style:{width:"100%",display:"flex",position:"fixed",bottom:"6rem",left:"0px",justifyContent:"flex-end"},children:Object(N.jsxs)(C.h,{href:n,isExternal:!0,style:{border:"1px solid #A589F3",borderRadius:"4px",padding:".5rem 2rem",background:"rgba(165, 137, 243, 0.3)",display:"flex",gap:".5rem",marginRight:"2rem",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(2px)"},children:[Object(N.jsx)("img",{src:ee,alt:"",width:"20px"}),t]})})};var ne=function(e){var t=e.login,n=e.flexAllowance,o=e.setFlexAllowance,r=e.lockedAllowance,s=e.setLockedAllowance,i=e.totalIbatStaked,j=e.setTotalIbatStaked,x=e.getTotalIbatStaked,h=e.showGenericErrorMessage,y=e.firebaseApp,A=e.tokenPriceUSD,O=e.firestoreUSDPriceLoading,w=Object(_.c)("(min-width: 600px)"),k=Object(u.a)(w,1)[0],T=Object(p.d)(),v=T.isAuthenticated,S=T.Moralis,I=Object(p.c)().fetchERC20Balances,B=Object(a.useCallback)((function(e){var t=e;t=0;try{e+="",t=S.Units.FromWei(e,9)}catch(n){t=Number(e)/Math.pow(10,9),console.error(n),console.error("dev-convertToDecimals() - main.js")}return t}),[S.Units]),E=Object(d.a)(),M=Object(p.g)(),U=M.fetch,P=M.isFetchingEnableStaking,L=function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={abi:[{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],contractAddress:b,functionName:"approve",params:{spender:t,amount:"10000000000000000000000000000"}},e.next=4,U({params:n,onSuccess:function(e){console.log(e),console.log("dev-\u2705-Ran function deposit successfully"),E({containerStyle:{maxWidth:"92vw"},description:"Enable Staking Tx in progress...",status:"info",duration:null,isClosable:!0,position:"bottom-left"}),e.wait().then((function(e){console.log(e);var n="Staking";t===f&&(n="Flexible Staking",window.localStorage.setItem("flexAllowance","true"),o("true")),t===g&&(n="Locked Staking",window.localStorage.setItem("lockedAllowance","true"),s("true")),E.closeAll({positions:["bottom-left"]}),E({containerStyle:{maxWidth:"92vw"},title:"".concat(n," Enabled"),description:"For best Experience, disconnect & connect again.",status:"success",duration:"10000",isClosable:!0,position:"bottom-left"})}))},onError:function(e){console.error(e),e&&e.data?h(e.data.message):e&&e.message&&h(e.message),console.error("dev-failed to run deposit function")}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=Object(a.useState)(0),V=Object(u.a)(H,2),X=V[0],J=V[1],K=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=3;break}return console.log("dev-failed to fetch token balances - isAuthenticated : ".concat(v)),e.abrupt("return");case 3:return e.next=5,I({params:{chain:S.chainId}});case 5:(t=e.sent)&&t.forEach((function(e){if(b.toLowerCase()===e.token_address.toLowerCase()){var t=e.balance;t=S.Units.FromWei(t,9),J(t)}}));case 7:case"end":return e.stop()}}),e)}))),[I,v,S.chainId,S.Units]);function G(e,t){var n=Object.getOwnPropertyDescriptor(e,"value").set,a=Object.getPrototypeOf(e),o=Object.getOwnPropertyDescriptor(a,"value").set;n&&n!==o?o.call(e,t):n.call(e,t)}var q=Object(z.h)(y),ee="stakingmainnet",ne=Object(z.a)(q,ee,"locked"),ae=Object(z.a)(q,ee,"flexible"),oe=Object(Q.a)(ae,{snapshotListenOptions:{includeMetadataChanges:!0}}),re=Object(u.a)(oe,2),se=re[0],ie=re[1],ce=Object(Q.a)(ne,{snapshotListenOptions:{includeMetadataChanges:!0}}),le=Object(u.a)(ce,2),ue=le[0],de=le[1],pe=Object(a.useState)(""),me=Object(u.a)(pe,2),be=me[0],ge=me[1],fe=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,!ie&&se&&se.exists()&&(t=Number(se.data().tvl)),n=0;try{!de&&ue&&ue.exists()&&(n=Number(ue.data().tvl))}catch(o){console.error(o),console.error("dev-some-error-when-net-off")}a=(t+n)*A,a=(a=Number(a.toFixed(2))).toLocaleString("en-US");try{m}catch(o){console.error(o),console.error("dev-some-error-when-net-off")}ge(a);case 10:case"end":return e.stop()}}),e)}))),[ie,se,de,ue,A]);return Object(a.useEffect)(fe,[fe]),Object(N.jsxs)(C.b,{backgroundImage:$,backgroundPosition:"85% 80%",minHeight:"80vh",bgAttachment:"fixed",backgroundRepeat:"no-repeat",bgSize:k?"auto":"350px",children:[Object(N.jsxs)(R.a,{borderRadius:"2xl",background:"linear-gradient(270deg, #066100cc 0%, #005249cc 50%) padding-box,linear-gradient(45deg, #89d2f3, #a67cff) border-box!important",border:"3px solid transparent !important",style:{padding:"1rem 2rem",width:"max-content",minWidth:"265px",margin:"1rem auto ",boxShadow:"0px 0px 50px 0px #743680",minHeight:"5.7rem",paddingBottom:".5rem"},children:[Object(N.jsx)(R.b,{fontSize:"sm",textTransform:"uppercase",fontWeight:"black",children:"Total Value Locked"}),Object(N.jsx)(R.c,{display:"flex",width:"max-content",marginX:"auto",children:O||ie||de?Object(N.jsx)(D.a,{height:"2rem",width:"12rem",margin:"auto",display:"inline-block",marginBottom:".2rem"}):Object(N.jsxs)(C.m,{children:["$",be]})}),Object(N.jsx)(C.c,{width:"max-content",marginX:"auto",children:O||ie||de?Object(N.jsx)(D.a,{height:"1.3rem",width:"8rem",margin:"auto",alignItems:"center"}):Object(N.jsx)(C.m,{fontSize:"x-small",children:"$ ".concat(A," = 1 IBAT")})})]}),Object(N.jsxs)(W.e,{variant:"soft-rounded",colorScheme:"green",defaultIndex:1,children:[Object(N.jsxs)(W.b,{className:"gradient-2",style:{width:"max-content",margin:"auto",borderRadius:"50px",padding:".2rem",minWidth:"250px"},children:[Object(N.jsx)(W.a,{_selected:{background:"linear-gradient(98.76deg, #38C3CF 0%, #8767D3 100%);",border:"none",color:"#fff"},textTransform:"uppercase !important",color:"#ccc",width:"50%",minWidth:"125px",children:"Flexible"}),Object(N.jsx)(W.a,{_selected:{background:"linear-gradient(98.76deg, #38C3CF 0%, #8767D3 100%);",border:"none",color:"#fff"},textTransform:"uppercase !important",color:"#ccc",width:"50%",minWidth:"125px",children:"Locked"})]}),Object(N.jsxs)(W.d,{children:[Object(N.jsx)(W.c,{children:Object(N.jsx)(Y,{login:t,flexAllowance:n,totalIbatStaked:i,setTotalIbatStaked:j,getTotalIbatStaked:x,enableStaking:L,isFetchingEnableStaking:P,firebaseApp:y,convertToDecimals:B,getIBATBalance:K,totalIbatBalance:X,setNativeValue:G,showGenericErrorMessage:h})}),Object(N.jsx)(W.c,{children:Object(N.jsx)(Z,{lockedAllowance:r,enableStaking:L,isFetchingEnableStaking:P,firebaseApp:y,convertToDecimals:B,getIBATBalance:K,totalIbatBalance:X,setNativeValue:G,showGenericErrorMessage:h})})]})]}),!v&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("section",{className:"staking__container staking__selector gradient-2",style:{padding:"2rem max(9vw, 2rem)",width:"max-content",margin:"auto"},children:[Object(N.jsx)(C.m,{children:"Connect your wallet to stake IBAT tokens!"}),Object(N.jsx)(F,{login:t,addClass:"btn__connect_wallet--staking"})]})}),Object(N.jsx)(te,{linkText:"How to Stake?",link:"https://battleinfinity.io/staking"})]})},ae=n(254),oe=n(66),re=n(576),se=n(579);var ie=function(e){var t=e.dropDownLabel,n=e.coin,o=e.setCoin,r=e.isAuthenticated,s=e.isLoadingERC20Balances,i=e.allBalances,c=e.nativeBalance,l=Object(a.useState)(0),d=Object(u.a)(l,2),p=d[0],m=d[1];return Object(a.useEffect)((function(){if(r&&!s&&i&&"BNB"!==n){var e=i.filter((function(e){return(e.symbol+"").toUpperCase()===n.toUpperCase()}));e=(e=e&&e[0]?e[0]:null)?e.balance/Math.pow(10,e.decimals):0,e=Number(e),e=Number(e).toFixed(3),m(e)}else m(c.formatted)}),[n,i,r,s,c.formatted]),Object(N.jsxs)(C.c,{alignItems:"center",justifyContent:"space-between",children:[Object(N.jsxs)(se.a,{bg:"rgba(0, 2, 17, 0.3)",children:[Object(N.jsx)(se.b,{as:T.a,borderRadius:"lg",fontSize:"xs",height:"1.5rem",padding:".25rem 1rem",marginLeft:"-0.5rem",width:"8.5rem",textAlign:"left",rightIcon:Object(N.jsx)("img",{src:M,alt:"drop down icon",width:"10px",style:{marginLeft:".75rem"}}),bg:"rgba(0, 2, 17, 0)",_hover:{background:"rgba(0, 2, 17, 0.5)"},_active:{background:"rgba(0, 2, 17, 0.5)"},_expanded:{background:"rgba(0, 2, 17, 0.5)"},children:Object(N.jsxs)(C.c,{gap:".5rem",alignItems:"center",justifyContent:"space-between",children:[t," ",Object(N.jsxs)(C.c,{alignItems:"center",gap:".25rem",children:[Object(N.jsx)("img",{src:n?y.filter((function(e){return e.symbol.toUpperCase()===n}))[0].imgSrc:"",alt:"".concat(n," symbol"),style:{borderRadius:"100%",width:"16px",display:"inline"}}),n]})]})}),Object(N.jsx)(se.d,{background:"rgba(0, 2, 17, 0.8)",width:"12rem",borderRadius:"xl",backdropFilter:"blur(10px)",children:y.map((function(e){return Object(N.jsxs)(se.c,{onClick:function(e){return function(e){if(e){var t=e.currentTarget.value+"";t=t.toUpperCase(),o(t)}}(e)},_hover:{background:"rgba(0, 2, 17, 0.5)"},_focus:{fontWeight:"bold"},value:e.symbol,gap:".5rem",children:[Object(N.jsx)("img",{src:e.imgSrc,alt:"c.name token symbol",style:{borderRadius:"100%",width:"24px"}}),Object(N.jsx)(C.m,{children:e.symbol.toUpperCase()}),Object(N.jsx)(C.c,{direction:"column",children:Object(N.jsx)(C.m,{style:{pointerEvents:"none"},fontSize:"0.65rem",children:e.name})})]},e.symbol)}))})]}),Object(N.jsx)(C.m,{fontSize:"xs",children:r&&"Balance: ".concat(parseFloat(p)," ").concat("BNB"!==n?n:"BNB")})]})};var ce=function(e){var t=e.setAmount,n=e.elID,a=(e.setMaxSwapAmount,e.setLastUserChangedField);return Object(N.jsx)(P.a,{alignItems:"center",children:Object(N.jsx)(L.c,{min:0,placeholder:"0 ",precision:9,clampValueOnBlur:!1,onChange:function(e){return function(e){if(!e)return t(0),console.log("setting input to 0 - ".concat(n)),void console.error("dev-swap-error with input");e=Number(e).toFixed(9),e=parseFloat(e);try{t(e)}catch(a){console.error(a),console.error("dev-swap inputAmount")}}(e)},onKeyDown:function(e){return function(e){if(e.keyCode>=48&&e.keyCode<=57||8===e.keyCode||46===e.keyCode){var t=n+"";t=t.substring(6,t.length),a(t)}}(e)},variant:"filled",background:"rgba(0, 2, 17, 0.3)",borderRadius:"xl",width:"100%",position:"relative",children:Object(N.jsx)(L.d,{borderRadius:"xl",id:n,bg:"#ffffff33"})})})},le=n.p+"static/media/icon_swap.1b97aa62.svg",ue=n.p+"static/media/icon_swap_one_way.1aa95690.svg";var de=function(e){var t=e.toCoin,n=e.setToCoin,o=e.toCoinAmount,r=e.setToCoinAmount,s=e.fromCoin,i=e.setFromCoin,c=e.fromCoinAmount,l=e.setFromCoinAmount,u=e.setNativeValue,d=Object(a.useCallback)((function(){var e=c;l(o),r(e);var t=document.getElementById("swap__fromCoinAmount"),n=document.getElementById("swap__toCoinAmount");u(t,o),u(n,c),n.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("input",{bubbles:!0}))}),[c,l,u,r,o]),p=Object(a.useCallback)((function(){var e=s;i(t),n(e),d()}),[s,i,n,t,d]);return Object(N.jsx)(T.a,{width:"3rem",height:"3rem",borderRadius:"100%",margin:"0.5rem auto",marginTop:"2rem",padding:"0px",onClick:p,children:Object(N.jsx)("img",{src:ue,alt:"",style:{width:"2.6rem",height:"2.6rem",borderRadius:"100%",padding:"8px",background:"linear-gradient(90deg, #181652cc, #172C66cc) padding-box, linear-gradient(45deg, rgb(137, 210, 243), rgb(166, 124, 255)) border-box ",border:"3px solid transparent"},onMouseOver:function(e){e.currentTarget.src=le,e.currentTarget.style.padding="7px"},onMouseOut:function(e){e.currentTarget.src=ue,e.currentTarget.style.padding="8px"}})})},pe=n.p+"static/media/battle_swap.62575074.png",me=n.p+"static/media/icon_setting.82d86ab6.svg";n.p;var be=function(e){var t=e.isOpenSettings,n=e.onCloseSettings,a=e.slippage,o=e.setSlippage,r=e.txTimeOut,s=e.setTxTimeOut;return Object(N.jsxs)(v.f,{blockScrollOnMount:!1,isOpen:t,onClose:n,children:[Object(N.jsx)(v.l,{background:"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)"}),Object(N.jsxs)(v.i,{margin:"auto 1rem",background:"linear-gradient(90deg, rgba(23, 44, 102, 0.9) 0%, rgba(24, 22, 82, 0.9) 100%)",boxShadow:"0px 0px 31px rgba(149, 100, 211, 0.33)",backdropFilter:"blur(5px)",border:"1px solid #89d2f3",children:[Object(N.jsx)(v.k,{children:"Swap Settings"}),Object(N.jsx)(v.h,{}),Object(N.jsxs)(v.g,{display:"flex",flexDirection:"column",gap:"1rem",paddingBottom:"2rem",children:[Object(N.jsxs)(C.c,{direction:"column",bg:"rgba(0,0,0,.2)",borderRadius:"lg",padding:"1rem",children:[Object(N.jsxs)(C.m,{fontSize:"sm",marginBottom:".5rem",children:["Slippage Tolerance: ",a,"%"]}),Object(N.jsxs)(C.c,{gap:"1.5rem",justifyContent:"flex-start",alignItems:"center",children:[Object(N.jsxs)(L.c,{defaultValue:15,min:0,max:100,width:"5rem",onChange:o,children:[Object(N.jsx)(L.d,{}),Object(N.jsxs)(L.e,{children:[Object(N.jsx)(L.b,{}),Object(N.jsx)(L.a,{})]})]}),Object(N.jsx)(K.b,{onChange:o,value:a,children:Object(N.jsxs)(C.l,{direction:"row",children:[Object(N.jsx)(K.a,{value:"5",children:"5%"}),Object(N.jsx)(K.a,{value:"10",children:"10%"}),Object(N.jsx)(K.a,{value:"15",children:"15%"})]})})]})]}),Object(N.jsxs)(C.c,{direction:"column",bg:"rgba(0,0,0,.2)",borderRadius:"lg",padding:"1rem",children:[Object(N.jsxs)(C.m,{fontSize:"sm",marginBottom:".5rem",children:["Transaction Timeout: ",r," minutes"]}),Object(N.jsxs)(C.c,{gap:"1.5rem",justifyContent:"flex-start",alignItems:"center",children:[Object(N.jsxs)(L.c,{defaultValue:10,min:1,max:100,width:"5rem",onChange:s,children:[Object(N.jsx)(L.d,{}),Object(N.jsxs)(L.e,{children:[Object(N.jsx)(L.b,{}),Object(N.jsx)(L.a,{})]})]}),Object(N.jsx)(K.b,{onChange:s,value:r,children:Object(N.jsxs)(C.l,{direction:"row",children:[Object(N.jsx)(K.a,{value:"1",children:"1"}),Object(N.jsx)(K.a,{value:"3",children:"3"}),Object(N.jsx)(K.a,{value:"5",children:"5"})]})})]})]})]})]})]})},ge=n(61);var fe=function(e){var t=e.setNativeValue,n=e.login,o=Object(a.useState)(!1),r=Object(u.a)(o,2),s=r[0],i=r[1],m=Object(a.useState)("BNB"),b=Object(u.a)(m,2),g=b[0],f=b[1],j=Object(a.useState)(0),x=Object(u.a)(j,2),h=x[0],w=x[1],S=Object(a.useState)(0),I=Object(u.a)(S,2),B=I[0],E=(I[1],Object(a.useState)("IBAT")),M=Object(u.a)(E,2),U=M[0],R=M[1],D=Object(a.useState)(0),W=Object(u.a)(D,2),P=W[0],L=W[1],H=Object(a.useState)(0),z=Object(u.a)(H,2),Q=z[0],Y=(z[1],Object(a.useState)(15)),V=Object(u.a)(Y,2),X=V[0],J=V[1],K=Object(a.useState)(10),G=Object(u.a)(K,2),q=G[0],Z=G[1],$=Object(_.c)("(min-width: 600px)"),ee=Object(u.a)($,1)[0],ne=Object(a.useState)("fromCoinAmount"),ae=Object(u.a)(ne,2),oe=ae[0],se=ae[1],le=Object(d.a)(),ue=Object(a.useCallback)((function(e,t){le({containerStyle:{maxWidth:"92vw"},title:e,description:t||"",status:"warning",duration:3e3,isClosable:!0})}),[le]),fe=Object(a.useCallback)((function(e,t){le({containerStyle:{maxWidth:"92vw"},title:e,description:t||"",status:"info",duration:6e4,isClosable:!0})}),[le]),je=Object(a.useCallback)((function(e,t){le({containerStyle:{maxWidth:"92vw"},title:e,description:t||"",status:"success",duration:6e4,isClosable:!0})}),[le]),xe=Object(k.e)(),he=xe.isOpen,ye=xe.onOpen,Ae=xe.onClose,Oe=Object(p.d)(),we=Oe.isAuthenticated,ke=Oe.isWeb3Enabled,Te=Oe.user,ve=Object(p.c)(),Ce=ve.fetchERC20Balances,Se=ve.data,Ie=ve.isLoading,Be=(ve.isFetching,ve.error,Object(p.b)().chainId),Ee=Object(p.f)({chain:Be}),Me=Ee.getBalances,Ne=Ee.data;Ee.nativeToken,Ee.error,Ee.isLoading,Object(a.useEffect)((function(){we&&(console.log("Refreshing balances - ignore(".concat(s,")")),Me().then(console.log(Ne.formatted)))}),[we,s,Me,Ne.formatted]);var Fe=Object(k.e)(),Ue=Fe.isOpen,_e=Fe.onOpen,Re=Fe.onClose,De=Object(a.useState)(0),We=Object(u.a)(De,2),Pe=We[0],Le=We[1],He=Object(a.useState)(0),ze=Object(u.a)(He,2),Qe=ze[0],Ye=ze[1],Ve=Object(a.useState)([]),Xe=Object(u.a)(Ve,2),Je=Xe[0],Ke=Xe[1],Ge=Object(p.g)(),qe=Ge.fetch;Ge.isFetching,Object(a.useEffect)((function(){if(g.toUpperCase()!==U.toUpperCase()){var e=y.filter((function(e){return"BNB"===e.symbol.toUpperCase()}))[0].bscContractAddress,t="BNB"===g.toUpperCase()||"BNB"===U.toUpperCase(),n=y.filter((function(e){return e.symbol.toUpperCase()===g.toUpperCase()}))[0].bscContractAddress,a=y.filter((function(e){return e.symbol.toUpperCase()===U.toUpperCase()}))[0].bscContractAddress;t?(console.log("".concat(g,"-").concat(U)),Ke([n,a])):(console.log("".concat(g,"-BNB-").concat(U)),Ke([n,e,a]))}}),[g,U]);var Ze=Object(a.useState)("getAmountsOut"),$e=Object(u.a)(Ze,2),et=$e[0],tt=$e[1];Object(a.useEffect)((function(){var e="getAmountsOut";"toCoinAmount"===oe&&(e="getAmountsIn"),tt(e)}),[oe]);var nt=Object(a.useCallback)((function(){if(!(!h>0||"toCoinAmount"===oe)){var e=ge.Moralis.Units.Token("".concat(h),"18");"IBAT"===g.toUpperCase()&&(e=ge.Moralis.Units.Token("".concat(h),"9")),qe({params:{abi:O,contractAddress:A,functionName:"getAmountsOut",params:{amountIn:e,path:Je}},onSuccess:function(e){var n=ge.Moralis.Units.FromWei(e[e.length-1],"18");"IBAT"===U.toUpperCase()&&(n=ge.Moralis.Units.FromWei(e[e.length-1],"9"));var a=((n=Number(n).toFixed(6))*(1-X/100)).toFixed(9);console.log("setting minReceived = ".concat(a)),Le(a);var o=document.getElementById("swap__toCoinAmount");L(n),t(o,n),o.dispatchEvent(new Event("input",{bubbles:!0}))},onError:function(e){console.error(e),console.error("dev-getAmountsOut failed")}})}}),[h,oe,g,Je,qe,U,t,X]),at=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!P>0||"fromCoinAmount"===oe)){e.next=2;break}return e.abrupt("return");case 2:n=ge.Moralis.Units.Token("".concat(P),"18"),"IBAT"===U.toUpperCase()&&(n=ge.Moralis.Units.Token("".concat(P),"9")),qe({params:{abi:O,contractAddress:A,functionName:"getAmountsIn",params:{amountOut:n,path:Je}},onSuccess:function(e){console.log("\ud83d\udca9 getAmountIn called successfully");ge.Moralis.Units.FromWei(e[0],"18");var n=ge.Moralis.Units.FromWei(e[0],"18");"IBAT"===g.toUpperCase()&&(n=ge.Moralis.Units.FromWei(e[0],"9")),n=Number(n).toFixed(6),Ye(Number(n*(1+X/100)).toFixed(3));var a=document.getElementById("swap__fromCoinAmount");w(n),t(a,n),a.dispatchEvent(new Event("input",{bubbles:!0}))},onError:function(e){console.error(e),console.error("dev-getAmountsIn failed")}});case 7:case"end":return e.stop()}}),e)}))),[P,oe,U,Je,qe,g,X,t]);Object(a.useEffect)((function(){ke&&g.toUpperCase()!==U.toUpperCase()&&("getAmountsOut"===et&&h>0?nt():"getAmountsIn"===et&&P>0&&at())}),[ke,at,g,U,et,h,P,nt]);var ot=Object(a.useCallback)((function(){console.log("--- Final Swapping - Start ---"),console.log("lastUserChangedField - ".concat(oe));var e="",t=parseInt(Date.now()/1e3);t+=60*q;var n=0;if("fromCoinAmount"===oe){console.log("I want to sell ".concat(h," ").concat(g," for ").concat(U));try{"IBAT"===U.toUpperCase()?(n=ge.Moralis.Units.Token("".concat(Pe),"9"),console.log("it was IBAT")):(n=ge.Moralis.Units.Token("".concat(Pe),"18"),console.log("it was not IBAT")),console.log("making TempAmountt = ".concat(n))}catch(p){console.error(p),console.error("dev-some issue with setting minReceived")}if("BNB"===g.toUpperCase()){console.log("swapExactETHForTokens - swap exact ".concat(h," ").concat(g,"s for ").concat(U)),e="swapExactETHForTokens";var a={amountOutMin:n,path:Je,to:Te.get("ethAddress"),deadline:t},o={abi:O,contractAddress:A,functionName:e,msgValue:ge.Moralis.Units.ETH("".concat(h)),params:a};qe({params:o,onSuccess:function(e){console.log(e),fe("Swap ".concat(g," to ").concat(U," in progress"),"Tx Hash - ".concat(e.hash)),Re(),e.wait().then((function(e){Ce(),le.closeAll(),console.log("Swap Successful"),console.log(e.transactionHash),je("Swap Successful.","Tx Hash - ".concat(e.transactionHash))}))},onError:function(e){Re(),e&&e.data?ue(e.data.message):e&&e.message&&ue(e.message),console.error(e),console.error("dev-swapTokens failed")}})}else if("BNB"!==g.toUpperCase()){e="swapExactTokensForTokens";var r=ge.Moralis.Units.Token("".concat(h),"18");"IBAT"===g.toUpperCase()&&(console.log("swapping IBAT for ".concat(U)),e="swapExactTokensForTokensSupportingFeeOnTransferTokens",r=ge.Moralis.Units.Token("".concat(h),"9")),"BNB"===U.toUpperCase()&&(e="swapExactTokensForETHSupportingFeeOnTransferTokens"),console.log("fnName - ".concat(e));var c={amountIn:r,amountOutMin:n,path:Je,to:Te.get("ethAddress"),deadline:t};console.table(c),qe({params:{abi:O,contractAddress:A,functionName:e,params:c},onSuccess:function(e){console.log(e),fe("Swap ".concat(g," to ").concat(U," in progress"),"Tx Hash - ".concat(e.hash)),Re(),e.wait().then((function(e){Ce(),le.closeAll(),console.log("Swap Successful"),console.log(e.transactionHash),je("Swap Successful.","Tx Hash - ".concat(e.transactionHash))}))},onError:function(e){Re(),e&&e.data?ue(e.data.message):e&&e.message&&ue(e.message),console.error(e),console.error("dev-swapTokens failed")}})}}else if("toCoinAmount"===oe)if(console.log("I want exactly ".concat(P," ").concat(U," in exchange for my ").concat(g)),"BNB"===g.toUpperCase()){e="swapETHForExactTokens";try{"IBAT"===U.toUpperCase()?(n=ge.Moralis.Units.Token("".concat(P),"9"),console.log("it was IBAT")):(n=ge.Moralis.Units.Token("".concat(P),"18"),console.log("it was not IBAT")),console.log("making TempAmountt = ".concat(n))}catch(p){console.error(p),console.error("dev-some issue with setting minReceived")}var l={amountOut:n,path:Je,to:Te.get("ethAddress"),deadline:t};console.log(l);var u={abi:O,contractAddress:A,functionName:e,msgValue:ge.Moralis.Units.ETH("".concat(Qe)),params:l};qe({params:u,onSuccess:function(e){console.log(e),fe("Swap ".concat(g," to ").concat(U," in progress"),"Tx Hash - ".concat(e.hash)),Re(),i(!s),e.wait().then((function(e){Ce(),le.closeAll(),console.log("Swap Successful"),console.log(e.transactionHash),je("Swap Successful.","Tx Hash - ".concat(e.transactionHash))}))},onError:function(e){Re(),e&&e.data?ue(e.data.message):e&&e.message&&ue(e.message),console.error(e),console.error("dev-swapTokens failed")}})}else{e="swapTokensForExactTokens";try{"IBAT"===U.toUpperCase()?(n=ge.Moralis.Units.Token("".concat(P),"9"),console.log("it was IBAT "),console.error("last changed was ".concat(oe," (toCoin) so error - fn doesn't exist"))):(n=ge.Moralis.Units.Token("".concat(P),"18"),console.log("it was not IBAT")),console.log("making TempAmountt = ".concat(n))}catch(p){console.error(p),console.error("dev-some issue with setting minReceived")}console.log("fnName = ".concat(e));var d={amountOut:n,amountInMax:ge.Moralis.Units.Token("".concat(Qe),"18"),path:Je,to:Te.get("ethAddress"),deadline:t};console.log(d),qe({params:{abi:O,contractAddress:A,functionName:e,params:d},onSuccess:function(e){console.log(e),fe("Swap ".concat(g," to ").concat(U," in progress"),"Tx Hash - ".concat(e.hash)),Re(),i(!s),e.wait().then((function(e){Ce(),le.closeAll(),console.log("Swap Successful"),console.log(e.transactionHash),je("Swap Successful.","Tx Hash - ".concat(e.transactionHash))}))},onError:function(e){Re(),e&&e.data?ue(e.data.message):e&&e.message?ue(e.message):ue("Oops.. something went from","".concat(g," - ").concat(U," - ").concat("toCoinAmount"===oe?"Max Sold : ".concat(Qe," ").concat(g):"Min Received : ".concat(Pe," ").concat(g))),console.error(e),console.error("dev-swapTokens failed")}})}console.log("--- Final Swapping - End ---")}),[g,h,oe,Pe,qe,Je,U,P,q,Te,ue,fe,je,le,i,s,Re,Qe,Ce]),rt=Object(a.useCallback)((function(e){var t=0;if(we)return"BNB"===e.toUpperCase()?Ne.formatted:(t=Se.filter((function(t){return(t.symbol+"").toUpperCase()===e.toUpperCase()})),console.log("getting bal of - ".concat(e)),t=(t=t&&t[0]?t[0]:null)?t.balance/Math.pow(10,t.decimals):0,t=Number(t).toFixed(3),parseFloat(t));console.error("dev-not authenticated")}),[Se,we,Ne.formatted]),st=Object(a.useCallback)((function(e){var n=0;try{"swap__fromCoinAmount"===e?(n=rt(g),"IBAT"===g.toUpperCase()&&(n-=1)):"swap__toCoinAmount"===e&&(console.log("max-toCoin"),n=rt(U))}catch(o){console.error(o),console.error("dev-setSwapAmount crashed ")}var a=document.getElementById(e);t(a,n),a.dispatchEvent(new Event("input",{bubbles:!0}))}),[rt,t,U,g]),it=Object(a.useCallback)((function(){we?g?g.toUpperCase()!==U.toUpperCase()?h?U?P?_e():ue("Missing ".concat(U.toUpperCase()," amount")):ue("Missing TO field"):ue("Missing ".concat(g.toUpperCase()," amount")):ue("'FROM' & 'TO' token can not be same."):ue("Missing FROM field"):ue("Wallet not connected","if issue persists - disconnect and connect again")}),[g,h,we,_e,ue,U,P]),ct=Object(a.useCallback)((function(){var e="".concat(g.toUpperCase());console.log("enableAllowance-"),console.log(e);var t=y.filter((function(t){return t.symbol.toUpperCase()===e}))[0].ABI_approve;console.log(t);var n=y.filter((function(t){return t.symbol.toUpperCase()===e}))[0].bscContractAddress;qe({params:{abi:t,contractAddress:n,functionName:"approve",params:{spender:"0x10ED43C718714eb63d5aA57B78B54704E256024E",amount:"100000000000000000000000000000"}},onSuccess:function(t){console.log(t),le({containerStyle:{maxWidth:"92vw"},title:"Allowance for ".concat(e," Tx in progress..."),description:"Tx Hash : ".concat(t.hash),status:"info",duration:null,isClosable:!0}),t.wait().then((function(t){console.log(t),console.log("dev-\u2705-".concat(e," allowance approved")),window.localStorage.setItem("".concat(e,"allowance"),"true"),i(!s),Ce(),le.closeAll(),le({containerStyle:{maxWidth:"92vw"},title:"".concat(e," allowance enabled. For best Experience, disconnect & connect again."),description:"Tx Hash : ".concat(t.transactionHash),status:"success",duration:"10000",isClosable:!0})}))},onError:function(t){console.error(t),t&&t.data?ue(t.data.message):t&&t.message&&ue(t.message),console.error("dev-failed ".concat(e," allownace"))}})}),[g,qe,s,ue,le,Ce]);return Object(N.jsxs)(C.b,{bgImage:pe,backgroundPosition:"95% 80%",minHeight:"80vh",bgAttachment:"fixed",backgroundRepeat:"no-repeat",bgSize:ee?"600px":"330px",children:[Object(N.jsxs)(v.f,{closeOnOverlayClick:!1,isOpen:Ue,onClose:Re,isCentered:!0,children:[Object(N.jsx)(v.l,{backdropFilter:"blur(8px)"}),Object(N.jsxs)(v.i,{className:"gradient-2",padding:".5rem 0rem",children:[Object(N.jsx)(v.k,{children:"Confirm Swap"}),Object(N.jsx)(v.h,{}),Object(N.jsx)(v.g,{pb:6,children:Object(N.jsxs)(C.c,{direction:"column",gap:"1rem",children:[Object(N.jsxs)(C.c,{direction:"column",width:"100%",children:[Object(N.jsxs)(C.c,{justifyContent:"space-between",width:"70%",children:[Object(N.jsx)(C.m,{children:h}),Object(N.jsx)(C.m,{children:g})]}),Object(N.jsxs)(C.c,{justifyContent:"space-between",width:"70%",children:[Object(N.jsx)(C.m,{children:P}),Object(N.jsx)(C.m,{children:U})]})]}),Object(N.jsxs)(C.c,{justifyContent:"space-between",width:"70%",children:[Object(N.jsx)(C.m,{children:"Slippage"}),Object(N.jsxs)(C.m,{children:[X,"%"]})]}),Object(N.jsx)(C.m,{fontSize:"sm",borderBottom:"1px solid #eeeeee55",padding:".5rem 0rem",children:"fromCoinAmount"===oe?"I want to swap exactly ".concat(h," ").concat(g," for ").concat(P," ").concat(U," with ").concat(X,"% slippage."):""}),Object(N.jsx)(C.m,{fontSize:"x-small",borderBottom:"1px solid #eeeeee55",padding:".5rem 0rem",color:"#eeeeee99",children:"Output is estimated. You will receive at least or the transaction will revert."})]})}),Object(N.jsxs)(v.j,{children:[Object(N.jsx)(T.a,{colorScheme:"blue",mr:3,onClick:ot,children:"Confirm Swap"}),Object(N.jsx)(T.a,{onClick:Re,children:"Cancel"})]})]})]}),Object(N.jsxs)(C.c,{flexDirection:"column",borderRadius:"16px !important",maxWidth:"420px",width:"full",margin:"auto",className:"gradient-2",children:[Object(N.jsxs)(C.c,{alignItems:"center",justifyContent:"space-between",width:"100%",className:"staking__selector__heading",children:[Object(N.jsx)(C.g,{as:"h3",size:"md",children:"Swap"}),Object(N.jsx)(C.c,{gap:".5rem",children:Object(N.jsx)(T.a,{onClick:ye,padding:"1px",minWidth:".5rem",minHeight:".5rem",height:"1.5rem",width:"1.5rem",background:"transparent",children:Object(N.jsx)(re.a,{src:me})})}),Object(N.jsx)(be,{isOpenSettings:he,onCloseSettings:Ae,slippage:X,setSlippage:J,txTimeOut:q,setTxTimeOut:Z})]}),Object(N.jsxs)(C.c,{direction:"column",padding:"1rem",children:[Object(N.jsx)(ie,{dropDownLabel:"From",coin:g,setCoin:f,coinBalance:B,isAuthenticated:we,isLoadingERC20Balances:Ie,allBalances:Se,nativeBalance:Ne}),Object(N.jsx)(ce,{elID:"swap__fromCoinAmount",setAmount:w,setMaxSwapAmount:function(){return st("swap__fromCoinAmount")},setLastUserChangedField:se}),Object(N.jsx)(de,{toCoin:U,setToCoin:R,toCoinAmount:P,setToCoinAmount:L,fromCoin:g,setFromCoin:f,fromCoinAmount:h,setFromCoinAmount:w,setNativeValue:t}),Object(N.jsx)(ie,{dropDownLabel:"To",coin:U,setCoin:R,coinBalance:Q,isAuthenticated:we,isLoadingERC20Balances:Ie,allBalances:Se,nativeBalance:Ne}),Object(N.jsx)(ce,{elID:"swap__toCoinAmount",setAmount:L,setMaxSwapAmount:function(){return st("swap__toCoinAmount")},setLastUserChangedField:se}),Object(N.jsxs)(C.b,{borderRadius:"lg",border:"1px solid rgba(199, 210, 237, 0.5)",color:"#C7D2ED",margin:".25rem",marginTop:"1.5rem",padding:".5rem",display:"".concat(we?"block":"none"),children:[Object(N.jsxs)(C.c,{fontSize:"xs",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #00000022",padding:".25rem",fontWeight:"semibold",children:[Object(N.jsx)(C.m,{children:"Slippage Tolerance"}),Object(N.jsxs)(C.m,{children:[X,"%"]})]}),g.toUpperCase()!==U.toUpperCase()&&Object(N.jsxs)(C.c,{fontSize:"xs",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #00000022",padding:".25rem",fontWeight:"semibold",children:[Object(N.jsx)(C.m,{children:"fromCoinAmount"===oe?"Minimum Received":"Maximum Sold"}),Object(N.jsx)(C.m,{children:"fromCoinAmount"===oe?"".concat(Number(Pe).toFixed(3)," ").concat(U):"".concat(Qe," ").concat(g)})]})]})]}),we?"true"===window.localStorage.getItem("".concat(g,"allowance"))?Object(N.jsx)(T.a,{bg:"linear-gradient(90deg, #172c66 0%, #181652 100%) padding-box, linear-gradient(45deg, #89d2f3, #a67cff) border-box ",border:"2px solid transparent",onClick:it,margin:"1rem",textTransform:"uppercase",fontWeight:"bold",fontStyle:"italic",children:"Swap"}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T.a,{bg:"linear-gradient(90deg, #172c66 0%, #181652 100%) padding-box, linear-gradient(45deg, #89d2f3, #a67cff) border-box ",border:"2px solid transparent",onClick:ct,margin:"1rem",marginBottom:".5rem",textTransform:"uppercase",fontWeight:"bold",fontStyle:"italic",children:"Enable ".concat(g)}),Object(N.jsx)(T.a,{bg:"linear-gradient(90deg, #172c66 0%, #181652 100%) padding-box, linear-gradient(45deg, #89d2f3, #a67cff) border-box ",border:"2px solid transparent",margin:"1rem",marginTop:"0rem",textTransform:"uppercase",fontWeight:"bold",fontStyle:"italic",disabled:!0,children:"Swap"})]}):Object(N.jsx)(F,{login:n})]}),Object(N.jsx)(te,{linkText:"How to Swap?",link:"https://battleinfinity.io/"})]})};var je=function(e){var t=e.login;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(C.c,{justifyContent:"center",direction:"column",padding:"1rem",paddingTop:"3rem",gap:"2rem",children:[Object(N.jsxs)(C.g,{as:"h2",textTransform:"uppercase",fontWeight:"black",children:[" ","Battle Swap"]}),Object(N.jsx)(fe,{setNativeValue:function(e,t){var n=Object.getOwnPropertyDescriptor(e,"value").set,a=Object.getPrototypeOf(e),o=Object.getOwnPropertyDescriptor(a,"value").set;n&&n!==o?o.call(e,t):n.call(e,t)},login:t})]})})},xe=n(70);var he=function(e){var t=e.navText,n=e.iconPath,o=e.linkTo,r=e.viewBox,s=Object(a.useState)(!1),i=Object(u.a)(s,2),c=i[0],l=i[1];return Object(N.jsx)(C.j,{width:"max-content",_hover:{color:"#4113be80",backgroundColor:"#4113be80"},_active:{color:"#4113be80",backgroundColor:"#4113be80"},borderRadius:"lg",children:Object(N.jsx)(ae.b,{to:o||"/",isActive:function(e){if(!e)return setTimeout((function(){return l(!1)}),0),!1;o&&e&&o===e.url?setTimeout((function(){return l(!0)}),0):setTimeout((function(){return l(!1)}),0)},children:Object(N.jsxs)(C.c,{alignItems:"center",direction:"column",padding:".25rem",width:"18vw",maxWidth:"70px",background:c?"#140C21":"",borderRadius:"lg",children:[Object(N.jsx)(xe.a,{viewBox:r||"0 0 22 22",color:c?"#DDCDEA":"#050a5c",_hover:{color:c?"#DDCDEA":"#050a5c"},_active:{backgroundColor:c?"#DDCDEA":"#050a5c"},width:"1.75rem",height:"1.75rem",pointerEvents:"none",children:Object(N.jsx)("path",{fill:"currentColor",d:n})}),Object(N.jsx)(C.m,{fontSize:"x-small",textTransform:"uppercase",color:c?"#DDCDEA":"#050a5c",fontWeight:"semibold",children:t})]})})})};var ye=function(){return Object(N.jsx)("aside",{style:{background:"#999ef9",position:"fixed",bottom:"2vh",margin:"auto",zIndex:"1",left:"50%",transform:"translateX(-50%)",borderRadius:".5rem"},children:Object(N.jsxs)(C.i,{display:"flex",flexDirection:"row",gap:".5rem",padding:".25rem",children:[Object(N.jsx)(he,{navText:"Staking",iconPath:"M10.9481 0L0 4.74805L10.9946 9.2168L22 4.76237L10.9481 0ZM22 10.2266L17.0908 8.11214L11.231 10.4844C11.0734 10.5488 10.9033 10.5435 10.7565 10.4844L4.88232 8.09603L0 10.214L10.9946 14.681L22 10.2266ZM17.2126 13.528L11.231 15.9486C11.0734 16.013 10.9033 16.0077 10.7565 15.9486L4.76058 13.5119L0 15.578L10.9946 20.0467L22 15.5923L17.2126 13.528Z",viewBox:"-3 0 25 25",linkTo:"/"}),Object(N.jsx)(he,{navText:"Swap",iconPath:"M6.66246 2.75407V2.78451H12.6661V7.53655H6.61591L6.6177 7.58311V9.3038C6.6177 9.31812 6.6177 9.33245 6.61591 9.34677C6.59979 9.71741 6.47804 9.98062 6.24706 10.1328C6.01608 10.2868 5.71169 10.3011 5.33747 10.174C5.29629 10.1597 5.26048 10.14 5.22825 10.1149C3.41983 8.69681 2.17362 7.27872 0.365194 5.85883L0.340127 5.83735C0.0393194 5.56519 -0.0430446 5.2805 0.0196237 4.9958C0.0751298 4.74513 0.250601 4.53027 0.485159 4.34584L4.91849 0.412066C5.13515 0.241967 5.36254 0.109468 5.57561 0.0450094C5.7672 -0.0122873 5.95341 -0.0176589 6.1253 0.0450094C6.31331 0.113049 6.46192 0.250919 6.55861 0.472944C6.62665 0.632301 6.66425 0.83642 6.66425 1.09246V2.71289C6.66425 2.729 6.66425 2.74154 6.66246 2.75407ZM15.3393 14.8132V14.7828H9.33571V10.0325H15.3859L15.3841 9.98599V8.2653C15.3841 8.25097 15.3841 8.23486 15.3859 8.22232C15.402 7.85169 15.5238 7.58848 15.7547 7.43628C15.9857 7.2823 16.2901 7.26798 16.6643 7.3951C16.7055 7.40943 16.7413 7.42912 16.7735 7.45419C18.582 8.87228 19.8282 10.2922 21.6348 11.7121L21.6599 11.7335C21.9607 12.0057 22.043 12.2904 21.9804 12.5751C21.9249 12.8258 21.7494 13.0406 21.5148 13.225L17.0833 17.157C16.8666 17.3271 16.6392 17.4596 16.4262 17.5241C16.2346 17.5814 16.0484 17.5868 15.8765 17.5241C15.6885 17.456 15.5399 17.3182 15.4432 17.0962C15.3751 16.9368 15.3375 16.7327 15.3375 16.4766V14.8544C15.3375 14.8401 15.3375 14.8276 15.3393 14.8132Z",linkTo:"/swap"})]})})};var Ae=function(e){var t=e.login,n=e.flexAllowance,a=e.setFlexAllowance,o=e.lockedAllowance,r=e.setLockedAllowance,s=e.totalIbatStaked,i=e.setTotalIbatStaked,c=e.getTotalIbatStaked,l=e.showGenericErrorMessage,u=e.firebaseApp,d=e.tokenPriceUSD,p=e.firestoreUSDPriceLoading;return Object(N.jsx)("main",{style:{paddingBottom:"3rem"},children:Object(N.jsxs)(ae.a,{children:[Object(N.jsx)(ye,{}),Object(N.jsxs)(oe.c,{children:[Object(N.jsx)(oe.a,{path:"/",exact:!0,children:Object(N.jsx)(ne,{login:t,flexAllowance:n,setFlexAllowance:a,lockedAllowance:o,setLockedAllowance:r,totalIbatStaked:s,setTotalIbatStaked:i,getTotalIbatStaked:c,showGenericErrorMessage:l,firebaseApp:u,tokenPriceUSD:d,firestoreUSDPriceLoading:p})}),Object(N.jsx)(oe.a,{path:"/swap",children:Object(N.jsx)(je,{login:t})}),Object(N.jsx)(oe.a,{path:"*",children:Object(N.jsx)(ne,{login:t,flexAllowance:n,setFlexAllowance:a,lockedAllowance:o,setLockedAllowance:r,totalIbatStaked:s,setTotalIbatStaked:i,getTotalIbatStaked:c,showGenericErrorMessage:l,firebaseApp:u,tokenPriceUSD:d,firestoreUSDPriceLoading:p})})]})]})})},Oe=n(592);var we=function(){var e=Object(p.d)(),t=e.authenticate,n=e.isWeb3Enabled,o=e.isAuthenticated,r=e.enableWeb3,s=e.isWeb3EnableLoading,i=e.Moralis,j=e.web3,x=e.user,h=Object(Oe.a)({apiKey:"AIzaSyCW_zePbfL7fms_Jg4oRL8Up5OE36rTjcU",authDomain:"battleinfinityio.firebaseapp.com",projectId:"battleinfinityio",storageBucket:"battleinfinityio.appspot.com",messagingSenderId:"694775551331",appId:"1:694775551331:web:75351fa92c161a0a1daf56"}),O=Object(p.g)().fetch,w=Object(a.useState)(!1),k=Object(u.a)(w,2),T=k[0],v=k[1],C=Object(a.useState)(!1),S=Object(u.a)(C,2),I=S[0],B=S[1],E=Object(a.useState)(0),M=Object(u.a)(E,2),F=M[0],_=M[1],R=Object(d.a)();Object(a.useEffect)((function(){v(window.localStorage.getItem("flexAllowance")),B(window.localStorage.getItem("lockedAllowance"))})),Object(a.useEffect)((function(){console.log("---- verifying value ----"),console.log("isTestnet"),console.log(m),console.log("CONTRACT_ADDRESS_FLEXIBLE_STAKING"),console.log(f),console.log("CONTRACT_ADDRESS_LOCKED_STAKING"),console.log(g),console.log("CONTRACT_ADDRESS_IBAT_TOKEN"),console.log(b),console.log("---------------------------")}),[]),Object(a.useEffect)((function(){s||o&&!n&&(window.ethereum?r():r({provider:"walletconnect"}))}),[o,r,n,j]),Object(a.useEffect)((function(){o&&!n&&(R.isActive("1")||R({id:"1",title:"Web3 Disconnected :(",description:"Disconnet & Connect Wallet again",status:"error",duration:null,isClosable:!0,position:"bottom-left",containerStyle:{maxWidth:"92vw"}}))}),[o,n,R]),Object(a.useEffect)((function(){o&&n&&(R.closeAll({positions:["bottom-left"]}),R({title:"Web3 Connected",status:"success",duration:"3000",isClosable:!0,position:"bottom-left",containerStyle:{maxWidth:"92vw"}}))}),[o,n,R]);var D=Object(a.useCallback)((function(e){R({title:"Oops... something went wrong!",description:e,status:"error",duration:2e3,isClosable:!0,position:"bottom-right",containerStyle:{maxWidth:"92vw"}})}),[R]),W=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={abi:[{inputs:[],name:"total_staked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],contractAddress:f,functionName:"total_staked"},e.next=4,O({params:t,onError:function(e){console.log(e),console.error("dev:failed to getTotalIbatStaked")},onSuccess:function(e){var t=Number(e._hex)/Math.pow(10,9);t=t.toFixed(0),_(t)}});case 4:case"end":return e.stop()}}),e)}))),[O]);function P(e,t){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={abi:[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],contractAddress:b,functionName:"allowance",params:{owner:t,spender:n}},e.next=4,O({params:a,onSuccess:function(e){n===f&&(0!==Number(e._hex)?window.localStorage.setItem("flexAllowance","true"):window.localStorage.setItem("flexAllowance","false")),n===g&&(0!==Number(e._hex)?window.localStorage.setItem("lockedAllowance","true"):window.localStorage.setItem("lockedAllowance","false"))},onError:function(e){console.error(e),window.localStorage.setItem("flexAllowance","false"),window.localStorage.setItem("lockedAllowance","false"),console.error("dev-\u274cfailed to run allowance function")}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(l.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=29;break}if(a="Battle Infinity Authentication",n){e.next=14;break}return e.prev=3,e.next=6,t({signingMessage:a,onSuccess:function(e){console.log("\u26a1\u26a1\u26a1 Authenticated \u26a1\u26a1\u26a1"),console.log(e),console.log("\u26a1\u26a1\u26a1\u26a1\u26a1\u26a1\u26a1\u26a1\u26a1\u26a1\u26a1\u26a1")},onError:function(e){console.error(e),console.error(e.message),D(e.message)}}).then((function(e){console.log("logged in user MM:",e),e&&console.log(e.get("ethAddress")),R({title:"Wallet Connected Successfully",description:"Address - ".concat(e.get("ethAddress")),status:"success",duration:3e3,isClosable:!0,containerStyle:{maxWidth:"92vw"}}),"0x38"!==i.getChainId()&&R({description:"Connected to Wrong Chain. \nSwitch to BSC Mainnet.",status:"error",duration:2500,isClosable:!0,containerStyle:{maxWidth:"92vw"}}),e&&P(e.get("ethAddress"),f),e&&P(e.get("ethAddress"),g),e&&window.localStorage.setItem("userAddress",e.get("ethAddress")),W();try{console.log("fetchTokenPrice()"),ae()}catch(t){console.error(t),console.error("dev-failed fetchTokenPrice()")}}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("-------");case 11:window.ethereum.on("message",(function(e){console.log("-------"),console.log("\u274c\u274c\u274c\u274c"),console.log("-------")})),e.next=29;break;case 14:if("walletconnect"!==n){e.next=29;break}return console.log("WC - ".concat("walletconnect"===n)),console.log("Logging with ".concat(n," - app")),e.next=19,t({provider:"walletconnect",chainId:56,signingMessage:a}).then((function(e){R({title:"Wallet Connected Successfully",description:"Address - ".concat(e.get("ethAddress")),status:"success",duration:1500,isClosable:!0,containerStyle:{maxWidth:"92vw"}}),console.log("isAuthenticated - ".concat(o,".")),console.log("logged in user WC:",e),console.log(e.get("ethAddress")),console.log("isAuthenticated - ".concat(o,".")),e&&console.log(e.get("ethAddress")),P(e.get("ethAddress"),f),P(e.get("ethAddress"),g),e&&window.localStorage.setItem("userAddress",e.get("ethAddress")),W()}));case 19:return e.prev=19,console.log("fetchTokenPrice()"),e.next=23,ae();case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(19),console.error(e.t1),console.error("dev-failed fetchTokenPrice()");case 29:case"end":return e.stop()}}),e,null,[[3,8],[19,25]])})));return function(t){return e.apply(this,arguments)}}(),Y=Object(p.e)(),V=Object(z.h)(h),X=Object(z.a)(V,"token","price"),J=Object(Q.a)(X,{snapshotListenOptions:{includeMetadataChanges:!0}}),K=Object(u.a)(J,2),G=K[0],q=K[1],Z=Object(a.useState)(""),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useCallback)(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.l)(X,{usdPrice:Number(t.usdPrice).toFixed(5),priceData:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[X]),ae=Object(a.useCallback)(Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={address:"0x19cd9b8e42d4ef62c3ea124110d5cfd283ceac43",chain:"bsc",exchange:"PancakeSwapv2"},!n){e.next=9;break}return console.log("\ud83e\udd19\ud83e\udd19\ud83e\udd19 Called fetchTokenPrice() \ud83e\udd19\ud83e\udd19\ud83e\udd19"),e.next=5,Y.token.getTokenPrice(t);case 5:a=e.sent,ne(a),e.next=10;break;case 9:console.log("\u274c Failed to call fetchTokenPrice() coz isWeb3Enabled = ".concat(n," \u274c"));case 10:case"end":return e.stop()}}),e)}))),[Y.token,n]);Object(a.useEffect)((function(){n&&ae()}),[n,ae]),Object(a.useEffect)((function(){var e=0;!q&&G&&G.exists()&&(e=G.data().usdPrice),te(e)}),[q,G]);var oe=Object(a.useCallback)(function(){var e=Object(l.a)(c.a.mark((function e(t,n,a){var o,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=y.filter((function(e){return e.bscContractAddress.toUpperCase()===a.toUpperCase()}))[0].ABI_allowance,a=a&&a.length>0?a:b,r={abi:o,contractAddress:a,functionName:"allowance",params:{owner:t,spender:n}},s=!1,e.next=6,O({params:r,onSuccess:function(e){0!==Number(e._hex)&&(s=!0)},onError:function(e){console.error(e),console.error("dev-\u274cfailed to run allowance function")}});case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[O]);return Object(a.useEffect)((function(){n&&o&&(y.forEach((function(e){"BNB"!==e.symbol.toUpperCase()&&oe(x.get("ethAddress"),A,e.bscContractAddress).then((function(t){console.log("".concat(e.symbol," - swap allowance - ").concat(t)),t?window.localStorage.setItem("".concat(e.symbol.toUpperCase(),"allowance"),"true"):window.localStorage.setItem("".concat(e.symbol.toUpperCase(),"allowance"),"false")}))})),window.localStorage.setItem("BNBallowance","true"))}),[n,o,x,oe]),Object(N.jsxs)("div",{className:"app",children:[Object(N.jsx)(U,{login:H,hasAllowance:P}),Object(N.jsx)(Ae,{login:H,flexAllowance:T,setFlexAllowance:v,lockedAllowance:I,setLockedAllowance:B,totalIbatStaked:F,setTotalIbatStaked:_,getTotalIbatStaked:W,showGenericErrorMessage:D,firebaseApp:h,tokenPriceUSD:ee,firestoreUSDPriceLoading:q})]})},ke=n(71),Te=Object(ke.b)({config:{initialColorMode:"dark",useSystemColorMode:!1}});s.a.render(Object(N.jsx)(o.a.StrictMode,{children:Object(N.jsx)(p.a,{appId:"uee9k8jRkQsPgZgjya7eFngXwKxQJS4q7ScGdB8W",serverUrl:"https://uln4op6ulmdb.usemoralis.com:2053/server",children:Object(N.jsx)(ke.a,{theme:Te,children:Object(N.jsx)(we,{})})})}),document.getElementById("root"))},360:function(e,t,n){},567:function(e,t,n){},620:function(e,t,n){},621:function(e,t,n){},916:function(e,t){},946:function(e,t){},985:function(e,t){},987:function(e,t){}},[[1245,1,2]]]);
//# sourceMappingURL=main.6c41d44d.chunk.js.map